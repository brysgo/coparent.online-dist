(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[656],{1341:(e,t,a)=>{Promise.resolve().then(a.bind(a,2735))},2735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),r=a(2115),i=a(6695),n=a(4944);function d(e){let{data:t,metric:a,parentALabel:r="Parent A",parentBLabel:i="Parent B",className:n=""}=e;if(!t||0===t.length)return(0,s.jsx)("div",{className:"p-4 text-center text-gray-500 ".concat(n),children:"No trend data available"});t.map(e=>"timeSplit"===a?Math.max(e.timeSplit.parentAPercentage,e.timeSplit.parentBPercentage):Math.max(e.preferenceSkew.parentASkew,e.preferenceSkew.parentBSkew));let d=e=>{let s=t.map((s,r)=>{let i,n=40+r/(t.length-1)*320;return i="timeSplit"===a?160-("A"===e?s.timeSplit.parentAPercentage:s.timeSplit.parentBPercentage)/100*120:160-("A"===e?s.preferenceSkew.parentASkew:s.preferenceSkew.parentBSkew)/100*120,"".concat(n,",").concat(i)});return"M ".concat(s.join(" L "))},l=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),c=(e,t)=>"timeSplit"===a?"A"===t?e.timeSplit.parentAPercentage:e.timeSplit.parentBPercentage:"A"===t?e.preferenceSkew.parentASkew:e.preferenceSkew.parentBSkew;return(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg border ".concat(n),children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"timeSplit"===a?"Time Split Trends":"Preference Satisfaction Trends"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",t.length," data points over time"]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("svg",{width:400,height:200,className:"overflow-visible",viewBox:"0 0 ".concat(400," ").concat(200),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("pattern",{id:"grid",width:"40",height:"20",patternUnits:"userSpaceOnUse",children:(0,s.jsx)("path",{d:"M 40 0 L 0 0 0 20",fill:"none",stroke:"#f3f4f6",strokeWidth:"1"})})}),(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),[0,25,50,75,100].map(e=>{let t=160-e/100*120;return(0,s.jsxs)("g",{children:[(0,s.jsx)("line",{x1:35,y1:t,x2:40,y2:t,stroke:"#6b7280",strokeWidth:"1"}),(0,s.jsxs)("text",{x:30,y:t+4,textAnchor:"end",className:"text-xs fill-gray-600",children:[e,"%"]})]},e)}),t.map((e,a)=>{if(a%Math.ceil(t.length/5)==0||a===t.length-1){let r=40+a/(t.length-1)*320;return(0,s.jsxs)("g",{children:[(0,s.jsx)("line",{x1:r,y1:160,x2:r,y2:165,stroke:"#6b7280",strokeWidth:"1"}),(0,s.jsx)("text",{x:r,y:178,textAnchor:"middle",className:"text-xs fill-gray-600",children:l(e.date)})]},a)}return null}),(0,s.jsx)("path",{d:d("A"),fill:"none",stroke:"#3b82f6",strokeWidth:"2",className:"drop-shadow-sm"}),(0,s.jsx)("path",{d:d("B"),fill:"none",stroke:"#ef4444",strokeWidth:"2",className:"drop-shadow-sm"}),t.map((e,a)=>{let n=40+a/(t.length-1)*320,d=c(e,"A"),o=c(e,"B"),p=160-d/100*120,m=160-o/100*120;return(0,s.jsxs)("g",{children:[(0,s.jsx)("circle",{cx:n,cy:p,r:"4",fill:"#3b82f6",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm",children:(0,s.jsx)("title",{children:"".concat(r,": ").concat(d.toFixed(1),"% on ").concat(l(e.date))})}),(0,s.jsx)("circle",{cx:n,cy:m,r:"4",fill:"#ef4444",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm",children:(0,s.jsx)("title",{children:"".concat(i,": ").concat(o.toFixed(1),"% on ").concat(l(e.date))})})]},a)}),(0,s.jsx)("line",{x1:40,y1:40,x2:40,y2:160,stroke:"#374151",strokeWidth:"2"}),(0,s.jsx)("line",{x1:40,y1:160,x2:360,y2:160,stroke:"#374151",strokeWidth:"2"})]}),(0,s.jsx)("div",{className:"absolute text-sm font-medium text-gray-700 transform -rotate-90",style:{left:"8px",top:"50%",transformOrigin:"center",transform:"translateY(-50%) rotate(-90deg)"},children:"timeSplit"===a?"Time Split (%)":"Preference Satisfaction (%)"})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-6 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-0.5 bg-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:r}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",c(t[t.length-1],"A").toFixed(1),"%)"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-0.5 bg-red-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:i}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",c(t[t.length-1],"B").toFixed(1),"%)"]})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Latest Values"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-blue-600 font-medium",children:[r,":"]}),(0,s.jsxs)("span",{className:"ml-2",children:[c(t[t.length-1],"A").toFixed(1),"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-red-600 font-medium",children:[i,":"]}),(0,s.jsxs)("span",{className:"ml-2",children:[c(t[t.length-1],"B").toFixed(1),"%"]})]})]})]})]})}class l{calculateTimeSplit(e,t,a){let s=(a?e.filter(e=>{let t=new Date(e.start_time);return t>=a.start&&t<=a.end}):e).filter(e=>"custody"===e.event_type||!e.event_type),r=0,i=0;s.forEach(e=>{let a=new Date(e.start_time),s=(new Date(e.end_time).getTime()-a.getTime())/36e5;e.parent_id===t.parent_a_id?r+=s:e.parent_id===t.parent_b_id&&(i+=s)});let n=r+i;return{parentAPercentage:Math.round(100*(n>0?r/n*100:50))/100,parentBPercentage:Math.round(100*(n>0?i/n*100:50))/100,totalHours:Math.round(100*n)/100,parentAHours:Math.round(100*r)/100,parentBHours:Math.round(100*i)/100}}calculatePreferenceSkew(e,t,a,s,r){let i=(r?e.filter(e=>{let t=new Date(e.start_time);return t>=r.start&&t<=r.end}):e).filter(e=>"custody"===e.event_type||!e.event_type),n=0,d=0,l=0,c=0;return i.forEach(e=>{let r=new Date(e.start_time),i=r.getDay(),o=r.toISOString().split("T")[0];e.parent_id===s.parent_a_id?(l++,this.isPreferenceViolation(e.parent_id,i,o,t,a)&&n++):e.parent_id===s.parent_b_id&&(c++,this.isPreferenceViolation(e.parent_id,i,o,t,a)&&d++)}),{parentASkew:Math.round(100*(l>0?(l-n)/l*100:100))/100,parentBSkew:Math.round(100*(c>0?(c-d)/c*100:100))/100,totalPreferenceViolations:n+d,parentAViolations:n,parentBViolations:d}}isPreferenceViolation(e,t,a,s,r){let i=r.find(t=>t.parent_id===e&&t.date===a);if(i)return i.priority>4;let n=s.find(a=>a.parent_id===e&&a.day_of_week===t);return!!n&&n.priority>4}calculateTrends(e,t,a,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"week",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:12,n=[],d=new Date;for(let l=i-1;l>=0;l--){let i=new Date(d),c=new Date(d);"week"===r?(i.setDate(d.getDate()-7*l),c.setDate(i.getDate()-7)):(i.setMonth(d.getMonth()-l),c.setMonth(i.getMonth()-1));let o=this.calculateTimeSplit(e,s,{start:c,end:i}),p=this.calculatePreferenceSkew(e,t,a,s,{start:c,end:i});n.push({date:i.toISOString().split("T")[0],timeSplit:o,preferenceSkew:p})}return n}generateExplanations(e,t,a){let s="Time split is calculated by totaling custody hours for each parent. Parent A has ".concat(e.parentAHours," hours (").concat(e.parentAPercentage,"%) and Parent B has ").concat(e.parentBHours," hours (").concat(e.parentBPercentage,"%) out of ").concat(e.totalHours," total custody hours."),r="Preference satisfaction is calculated by comparing scheduled custody time to each parent's stated preferences. Parent A gets their preferred times ".concat(t.parentASkew,"% of the time, while Parent B gets their preferred times ").concat(t.parentBSkew,"% of the time. Higher percentages indicate better preference satisfaction."),i=[],n=a.time_ratio||50,d=Math.abs(e.parentAPercentage-n);d>10&&i.push("Time split differs from ideal ratio by ".concat(d.toFixed(1),"%. Consider adjusting schedule to better match agreed-upon custody arrangement."));let l=Math.abs(t.parentASkew-t.parentBSkew);if(l>20){let e=t.parentASkew>t.parentBSkew?"Parent A":"Parent B";i.push("".concat(e," is getting their preferred times significantly more often (").concat(l.toFixed(1),"% difference). Consider redistributing preferred time slots for better balance."))}return t.totalPreferenceViolations>0&&i.push("There are ".concat(t.totalPreferenceViolations," preference violations. Review the schedule to minimize conflicts with stated preferences.")),0===i.length&&i.push("Current schedule appears well-balanced in terms of both time split and preference satisfaction."),{timeSplitCalculation:s,preferenceSkewCalculation:r,recommendations:i}}calculateFairnessScore(e,t,a){let s=a.time_ratio||50,r=Math.max(0,100-2*Math.abs(e.parentAPercentage-s)),i=100-Math.abs(t.parentASkew-t.parentBSkew),n=(t.parentASkew+t.parentBSkew)/2;return Math.round(100*(.4*r+.4*(.3*i+.7*n)+.2*Math.max(0,100-Math.min(40,5*t.totalPreferenceViolations))))/100}}let c=function(e){let{events:t,dayPreferences:a,datePreferences:c,relationship:o,parentAName:p="Parent A",parentBName:m="Parent B",className:h="",onMetricsUpdate:x}=e,[u]=(0,r.useState)(()=>new l),[_,f]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[g,b]=(0,r.useState)([]),[w,N]=(0,r.useState)(null),[v,T]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=u.calculateTimeSplit(t,o),s=u.calculatePreferenceSkew(t,a,c,o),r=u.calculateTrends(t,a,c,o,"week",8),i=u.generateExplanations(e,s,o),n=u.calculateFairnessScore(e,s,o);f(e),j(s),b(r),N(i),T(n),x&&x(n)},[t,a,c,o,u,x]);let Z=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600";return _&&y&&w&&null!==v?(0,s.jsxs)("div",{className:"space-y-6 ".concat(h),children:[(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Overall Fairness Score"}),(0,s.jsx)("span",{className:"text-2xl font-bold ".concat(Z(v)),children:v.toFixed(1)})]}),(0,s.jsx)(i.BT,{children:"Comprehensive assessment of time split and preference satisfaction"})]}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsx)(n.k,{value:v,className:"w-full mb-2"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Needs Improvement"}),(0,s.jsx)("span",{className:Z(v),children:v>=80?"Excellent":v>=60?"Good":v>=40?"Fair":"Needs Improvement"}),(0,s.jsx)("span",{children:"Excellent"})]})]})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Time Split Distribution"}),(0,s.jsx)(i.BT,{children:"Current custody time allocation between parents"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-blue-600",children:p}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[_.parentAHours,"h (",_.parentAPercentage,"%)"]})]}),(0,s.jsx)(n.k,{value:_.parentAPercentage,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-red-600",children:m}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[_.parentBHours,"h (",_.parentBPercentage,"%)"]})]}),(0,s.jsx)(n.k,{value:_.parentBPercentage,className:"w-full"})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Total Custody Hours"}),(0,s.jsxs)("span",{children:[_.totalHours,"h"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Target Split"}),(0,s.jsxs)("span",{children:[o.time_ratio||50,"% / ",100-(o.time_ratio||50),"%"]})]})]})]})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Preference Satisfaction"}),(0,s.jsx)(i.BT,{children:"How often each parent gets their preferred custody times"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-blue-600",children:p}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[y.parentASkew.toFixed(1),"% satisfaction"]})]}),(0,s.jsx)(n.k,{value:y.parentASkew,className:"w-full"}),y.parentAViolations>0&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:[y.parentAViolations," preference violations"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-red-600",children:m}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[y.parentBSkew.toFixed(1),"% satisfaction"]})]}),(0,s.jsx)(n.k,{value:y.parentBSkew,className:"w-full"}),y.parentBViolations>0&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:[y.parentBViolations," preference violations"]})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Total Violations"}),(0,s.jsx)("span",{children:y.totalPreferenceViolations})]})})]})})]}),g.length>1&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(d,{data:g,metric:"timeSplit",parentALabel:p,parentBLabel:m}),(0,s.jsx)(d,{data:g,metric:"preferenceSkew",parentALabel:p,parentBLabel:m})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Insights & Recommendations"}),(0,s.jsx)("button",{onClick:()=>S(!k),className:"text-sm text-blue-600 hover:text-blue-800",children:k?"Hide Details":"Show Details"})]}),(0,s.jsx)(i.BT,{children:"Understanding your metrics and actionable improvements"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Recommendations"}),(0,s.jsx)("ul",{className:"space-y-2",children:w.recommendations.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))})]}),k&&(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"How Time Split is Calculated"}),(0,s.jsx)("p",{className:"text-sm text-gray-700",children:w.timeSplitCalculation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"How Preference Satisfaction is Calculated"}),(0,s.jsx)("p",{className:"text-sm text-gray-700",children:w.preferenceSkewCalculation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Fairness Score Breakdown"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,s.jsx)("p",{children:"• Time Split Balance: 40% weight"}),(0,s.jsx)("p",{children:"• Preference Satisfaction: 40% weight"}),(0,s.jsx)("p",{children:"• Violation Penalty: 20% weight"})]})]})]})]})})]})]}):(0,s.jsx)("div",{className:"p-4 text-center text-gray-500 ".concat(h),children:"Loading metrics..."})};function o(){return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Time Split & Preference Metrics Demo"}),(0,s.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Comprehensive analysis of custody time distribution and preference satisfaction"}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Demo Scenario"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Alice"})," prefers weekdays for custody (work flexibility)"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Bob"})," prefers weekends (weekend activities with child)"]}),(0,s.jsx)("li",{children:"• Target split: 50/50 custody arrangement"}),(0,s.jsx)("li",{children:"• Data shows last 4 weeks of custody events"})]})]})]}),(0,s.jsx)(c,{events:[{id:"event_1",schedule_id:"schedule_demo",parent_id:"alice_123",start_time:"2024-01-01T18:00:00Z",end_time:"2024-01-04T18:00:00Z",title:"Alice Custody - Weekend",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_2",schedule_id:"schedule_demo",parent_id:"bob_456",start_time:"2024-01-04T18:00:00Z",end_time:"2024-01-08T18:00:00Z",title:"Bob Custody - Weekdays",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_3",schedule_id:"schedule_demo",parent_id:"alice_123",start_time:"2024-01-08T18:00:00Z",end_time:"2024-01-11T18:00:00Z",title:"Alice Custody - Mid-week",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_4",schedule_id:"schedule_demo",parent_id:"bob_456",start_time:"2024-01-11T18:00:00Z",end_time:"2024-01-15T18:00:00Z",title:"Bob Custody - Long Weekend",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_5",schedule_id:"schedule_demo",parent_id:"alice_123",start_time:"2024-01-15T18:00:00Z",end_time:"2024-01-19T18:00:00Z",title:"Alice Custody - School Week",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_6",schedule_id:"schedule_demo",parent_id:"bob_456",start_time:"2024-01-19T18:00:00Z",end_time:"2024-01-22T18:00:00Z",title:"Bob Custody - Weekend",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_7",schedule_id:"schedule_demo",parent_id:"bob_456",start_time:"2024-01-22T18:00:00Z",end_time:"2024-01-24T18:00:00Z",title:"Bob Custody - Short Period",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"event_8",schedule_id:"schedule_demo",parent_id:"alice_123",start_time:"2024-01-24T18:00:00Z",end_time:"2024-01-29T18:00:00Z",title:"Alice Custody - Extended Weekend",event_type:"custody",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}],dayPreferences:[{id:"day_1",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:1,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_2",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:2,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_3",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:3,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_4",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:4,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_5",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:5,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_6",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:6,priority:5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_7",relationship_id:"rel_demo",parent_id:"alice_123",day_of_week:0,priority:5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_8",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:1,priority:4,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_9",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:2,priority:4,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_10",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:3,priority:4,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_11",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:4,priority:4,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_12",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:5,priority:3,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_13",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:6,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"day_14",relationship_id:"rel_demo",parent_id:"bob_456",day_of_week:0,priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}],datePreferences:[{id:"date_1",relationship_id:"rel_demo",parent_id:"alice_123",date:"2024-01-01",priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"date_2",relationship_id:"rel_demo",parent_id:"bob_456",date:"2024-01-20",priority:1,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}],relationship:{id:"rel_demo",child_id:"child_demo",parent_a_id:"alice_123",parent_b_id:"bob_456",time_ratio:50,preference_ratio:50,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},parentAName:"Alice",parentBName:"Bob",onMetricsUpdate:e=>{console.log("Fairness score updated:",e)}}),(0,s.jsxs)("div",{className:"mt-8 p-6 bg-white rounded-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"How This Works"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Time Split Calculation"}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Measures the actual distribution of custody hours between parents based on scheduled events."}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Counts only custody-type events"}),(0,s.jsx)("li",{children:"• Calculates total hours for each parent"}),(0,s.jsx)("li",{children:"• Compares against agreed-upon ratio"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Preference Satisfaction"}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Analyzes how often each parent gets custody on their preferred days."}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Compares events to stated day preferences"}),(0,s.jsx)("li",{children:"• Accounts for specific date preferences"}),(0,s.jsx)("li",{children:"• Tracks violations and satisfaction rates"})]})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("strong",{children:"Note:"})," This demo uses synthetic data to showcase the metrics system. In a real application, this would integrate with actual custody schedules and user preferences."]})})]})]})})}},4944:(e,t,a)=>{"use strict";a.d(t,{k:()=>n});var s=a(5155),r=a(2115),i=a(9434);let n=r.forwardRef((e,t)=>{let{className:a,value:r=0,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-gray-200",a),...n,children:(0,s.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-in-out",style:{width:"".concat(Math.min(100,Math.max(0,r)),"%")}})})});n.displayName="Progress"},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>d});var s=a(5155),r=a(2115),i=a(9434);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},9434:(e,t,a)=>{"use strict";a.d(t,{Fd:()=>l,Uj:()=>n,cn:()=>i,wz:()=>d});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function n(e){let t=e.startsWith("/")?"".concat("/pr-64").concat(e):e;window.location.href=t}function d(e,t){return e===t||("/"===t?"/"===e:e.startsWith(t+"/")||e===t)}function l(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/".concat(e):"/"}}},e=>{var t=t=>e(e.s=t);e.O(0,[277,441,684,358],()=>t(1341)),_N_E=e.O()}]);