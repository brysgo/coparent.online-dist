"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{285:(e,t,r)=>{r.d(t,{$:()=>l});var a=r(5155),n=r(2115),i=r(4624),o=r(2085),s=r(9434);let d=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,a.jsx)(u,{className:(0,s.cn)(d({variant:n,size:o,className:r})),ref:t,...c})});l.displayName="Button"},2085:(e,t,r)=>{r.d(t,{F:()=>o});var a=r(2596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.$,o=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:s}=t,d=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],a=null==s?void 0:s[e];if(null===t)return null;let i=n(t)||n(a);return o[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return i(e,d,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...l}[t]):({...s,...l})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},4624:(e,t,r)=>{r.d(t,{DX:()=>o});var a=r(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(5155),o=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...i}=e;if(a.isValidElement(r)){var o;let e,s,d=(o=r,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),l=function(e,t){let r={...t};for(let a in t){let n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...i}:"className"===a&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==a.Fragment&&(l.ref=t?function(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}(t,d):d),a.cloneElement(r,l)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...o}=e,s=a.Children.toArray(n),l=s.find(d);if(l){let e=l.props.children,n=s.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...o,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),s=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s}},5705:(e,t,r)=>{r.d(t,{B:()=>u});let a=()=>({currentUser:{id:"demo-user-1",email:"demo.parent1@example.com",full_name:"Alex Johnson",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z",credit_score:100},otherParent:{id:"demo-user-2",email:"demo.parent2@example.com",full_name:"Jordan Smith",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z",credit_score:100}}),n=()=>[{id:"demo-child-1",name:"Emma Johnson-Smith",date_of_birth:"2016-03-15",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-child-2",name:"Liam Johnson-Smith",date_of_birth:"2019-08-22",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],i=(e,t,r)=>({id:"demo-relationship-1",child_id:r,parent_a_id:e,parent_b_id:t,time_ratio:50,preference_ratio:50,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}),o=(e,t,r)=>{let a=[],n=new Date,i=new Date;i.setMonth(i.getMonth()+2);let o=new Date(n),s=t,d=0;for(;o<=i;){d>0&&1===o.getDay()&&(s=s===t?r:t);let n=o.getDay(),i=0===n||6===n||s===t&&(1===n||2===n)||s===r&&(4===n||5===n);if(i){let r=new Date(o.getFullYear(),o.getMonth(),o.getDate(),18,0),n=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1,8,0);a.push({id:"demo-event-".concat(a.length+1),schedule_id:e,parent_id:s,start_time:r.toISOString(),end_time:n.toISOString(),title:"Custody Time - ".concat(s===t?"Your":"Co-parent's"," Week"),description:"Regular custody schedule",location:s===t?"Your Home":"Co-parent's Home",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"})}let l=i?s:0===n||6===n||1===n||2===n||3===n?t:r,c=new Date(o.getFullYear(),o.getMonth(),o.getDate(),7,30);a.push({id:"demo-meal-breakfast-".concat(o.toISOString().split("T")[0]),schedule_id:e,parent_id:l,start_time:c.toISOString(),end_time:new Date(c.getTime()+36e5).toISOString(),title:"Breakfast",description:"Breakfast responsibility - ".concat(l===t?"Your":"Co-parent's"," turn"),location:l===t?"Your Home":"Co-parent's Home",event_type:"meal",meal_type:"breakfast",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"});let u=new Date(o.getFullYear(),o.getMonth(),o.getDate(),12,0);a.push({id:"demo-meal-lunch-".concat(o.toISOString().split("T")[0]),schedule_id:e,parent_id:l,start_time:u.toISOString(),end_time:new Date(u.getTime()+36e5).toISOString(),title:"Lunch",description:"Lunch responsibility - ".concat(l===t?"Your":"Co-parent's"," turn"),location:l===t?"Your Home":"Co-parent's Home",event_type:"meal",meal_type:"lunch",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"});let p=new Date(o.getFullYear(),o.getMonth(),o.getDate(),18,30);if(a.push({id:"demo-meal-dinner-".concat(o.toISOString().split("T")[0]),schedule_id:e,parent_id:l,start_time:p.toISOString(),end_time:new Date(p.getTime()+54e5).toISOString(),title:"Dinner",description:"Dinner responsibility - ".concat(l===t?"Your":"Co-parent's"," turn"),location:l===t?"Your Home":"Co-parent's Home",event_type:"meal",meal_type:"dinner",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}),11===o.getMonth()&&25===o.getDate()){let t=new Date(o.getFullYear(),o.getMonth(),o.getDate(),9,0),n=new Date(o.getFullYear(),o.getMonth(),o.getDate(),20,0);a.push({id:"demo-event-christmas",schedule_id:e,parent_id:r,start_time:t.toISOString(),end_time:n.toISOString(),title:"Christmas Day",description:"Christmas celebration",location:"Co-parent's Home",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"})}o.setDate(o.getDate()+1),1===o.getDay()&&d++}return a},s=(e,t)=>({days:[{id:"demo-day-pref-1",relationship_id:e,parent_id:t,day_of_week:5,priority:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-2",relationship_id:e,parent_id:t,day_of_week:6,priority:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-3",relationship_id:e,parent_id:t,day_of_week:0,priority:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-4",relationship_id:e,parent_id:t,day_of_week:3,priority:4,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-5",relationship_id:e,parent_id:t,day_of_week:4,priority:5,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-6",relationship_id:e,parent_id:t,day_of_week:1,priority:6,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-7",relationship_id:e,parent_id:t,day_of_week:2,priority:7,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],dates:[{id:"demo-date-pref-1",relationship_id:e,parent_id:t,date:"2025-12-25",priority:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-2",relationship_id:e,parent_id:t,date:"2025-07-04",priority:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-3",relationship_id:e,parent_id:t,date:"2025-11-27",priority:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-4",relationship_id:e,parent_id:t,date:"2025-03-15",priority:4,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],handoffTimes:[{id:"demo-handoff-1",relationship_id:e,time:"18:00",priority_parent_a:1,priority_parent_b:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-2",relationship_id:e,time:"12:00",priority_parent_a:2,priority_parent_b:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-3",relationship_id:e,time:"15:00",priority_parent_a:3,priority_parent_b:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-4",relationship_id:e,time:"10:00",priority_parent_a:1,priority_parent_b:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-5",relationship_id:e,time:"14:00",priority_parent_a:2,priority_parent_b:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}]}),d=()=>{let{currentUser:e,otherParent:t}=a(),r=n(),d=i(e.id,t.id,r[0].id),l=o("demo-schedule-1",e.id,t.id),c=s(d.id,e.id);return{currentUser:e,otherParent:t,children:r,relationship:d,scheduleEvents:l,preferences:c}},l=()=>({"2025-01-01":"New Year's Day","2025-02-14":"Valentine's Day","2025-03-15":"Emma's Birthday","2025-03-17":"St. Patrick's Day","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-06-15":"Father's Day","2025-07-04":"Independence Day","2025-08-22":"Liam's Birthday","2025-09-01":"Labor Day","2025-10-31":"Halloween","2025-11-27":"Thanksgiving","2025-12-25":"Christmas Day","2025-12-31":"New Year's Eve"});class c{generateDemoData(){return d()}getGuestData(){return this.currentSession?this.currentSession.demoData:null}getHolidayData(){return l()}saveGuestInteraction(e,t,r){if(this.currentSession||this.loadOrCreateSession(),!this.currentSession)return void console.warn("Failed to create guest session");let a={id:"interaction-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,timestamp:new Date,data:t,metadata:r};this.currentSession.interactions.push(a),this.currentSession.lastActivity=new Date,this.currentSession.interactions.length>100&&(this.currentSession.interactions=this.currentSession.interactions.slice(-50)),this.saveSession()}updateGuestPreferences(e,t){this.currentSession&&(this.currentSession.demoData.preferences[e]=t,this.saveGuestInteraction("preference_sort",{type:e,preferences:t}),this.saveSession())}getSessionAnalytics(){let e;if(!this.currentSession)return{sessionDuration:0,interactionCount:0,featuresUsed:[],sortingCompleted:!1,engagementScore:0};let t=Date.now()-this.currentSession.startTime.getTime(),r=this.currentSession.interactions.length,a=[...new Set(this.currentSession.interactions.map(e=>e.type))],n=this.currentSession.interactions.some(e=>"preference_sort"===e.type);return e=0+30*Math.min(t/3e5,1)+40*Math.min(r/10,1)+5*a.length+20*!!n,{sessionDuration:t,interactionCount:r,featuresUsed:a,sortingCompleted:n,engagementScore:Math.min(e,100)}}exportGuestDataForSignup(){return this.currentSession?{preferences:this.currentSession.demoData.preferences}:null}clearGuestData(){try{localStorage.removeItem(c.STORAGE_KEY),this.currentSession=null}catch(e){console.warn("Failed to clear guest data:",e)}}isGuestMode(){return null!==this.currentSession}getSessionId(){var e;return(null==(e=this.currentSession)?void 0:e.sessionId)||null}updateSessionPreferences(e){this.currentSession&&(this.currentSession.preferences={...this.currentSession.preferences,...e},this.saveSession())}loadOrCreateSession(){try{let e=localStorage.getItem(c.STORAGE_KEY);if(e){let t=JSON.parse(e),r=new Date(t.lastActivity);if(!(Date.now()-r.getTime()>c.SESSION_TIMEOUT)){t.startTime=new Date(t.startTime),t.lastActivity=new Date(t.lastActivity),t.interactions=t.interactions.map(e=>({...e,timestamp:new Date(e.timestamp)})),this.currentSession=t;return}}}catch(e){console.warn("Failed to load guest session:",e)}this.createNewSession()}createNewSession(){let e="guest-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));this.currentSession={sessionId:e,startTime:new Date,lastActivity:new Date,interactions:[],demoData:this.generateDemoData(),preferences:{completedTutorial:!1,skipTour:!1,preferredFeatures:[]}},this.saveSession()}saveSession(){if(this.currentSession)try{let e=JSON.stringify(this.currentSession);if(e.length>c.MAX_STORAGE_SIZE){console.warn("Guest session data too large, trimming interactions"),this.currentSession.interactions=this.currentSession.interactions.slice(-20),this.saveSession();return}localStorage.setItem(c.STORAGE_KEY,e)}catch(e){e instanceof DOMException&&22===e.code?(console.warn("localStorage quota exceeded, clearing old guest data"),this.clearGuestData(),this.createNewSession()):console.error("Failed to save guest session:",e)}}getConversionReadiness(){let e=this.getSessionAnalytics(),t={timeSpent:25*Math.min(e.sessionDuration/6e5,1),featuresExplored:25*Math.min(e.featuresUsed.length/3,1),sortingCompleted:25*!!e.sortingCompleted,engagementLevel:.25*e.engagementScore},r=Object.values(t).reduce((e,t)=>e+t,0),a=[];return t.timeSpent<15&&a.push("Encourage more exploration"),t.featuresExplored<15&&a.push("Show additional features"),e.sortingCompleted||a.push("Guide to sorting feature"),r>70&&a.push("Show conversion prompt"),{score:r,factors:t,recommendations:a}}constructor(){this.currentSession=null,this.loadOrCreateSession()}}c.STORAGE_KEY="coparent_guest_session",c.MAX_STORAGE_SIZE=5242880,c.SESSION_TIMEOUT=864e5;let u=new c},6695:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>s});var a=r(5155),n=r(2115),i=r(9434);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...n})});s.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9434:(e,t,r)=>{r.d(t,{Fd:()=>d,Uj:()=>o,cn:()=>i,wz:()=>s});var a=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function o(e){let t=e.startsWith("/")?"".concat("/pr-64").concat(e):e;window.location.href=t}function s(e,t){return e===t||("/"===t?"/"===e:e.startsWith(t+"/")||e===t)}function d(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/".concat(e):"/"}}}]);