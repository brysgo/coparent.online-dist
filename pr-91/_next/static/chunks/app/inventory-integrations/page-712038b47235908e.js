(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{1796:(e,t,s)=>{Promise.resolve().then(s.bind(s,5690))},5690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var n=s(5155),i=s(2115),a=s(327),r=s(6695),l=s(285);function c(e){let{selectedItems:t,selectedEquipment:s,onItemsChange:c,onEquipmentChange:d,title:o="Related Inventory",description:m="Select items and equipment related to this activity"}=e,[x,h]=(0,i.useState)([]),[u,j]=(0,i.useState)([]),[p,g]=(0,i.useState)(!1),b=new a.y;(0,i.useEffect)(()=>{(async()=>{try{let e=b.generateDemoInventory();h(e.items),j(e.equipment)}catch(t){console.error("Error loading inventory for integration:",t);let e=b.generateDemoInventory();h(e.items),j(e.equipment)}})()},[]);let v=e=>{c(t.includes(e)?t.filter(t=>t!==e):[...t,e])},y=e=>{d(s.includes(e)?s.filter(t=>t!==e):[...s,e])},N=[...x.filter(e=>t.includes(e.id)),...u.filter(e=>s.includes(e.id))];return 0!==N.length||p?(0,n.jsx)(r.Zp,{children:(0,n.jsxs)(r.Wu,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:o}),(0,n.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>g(!p),children:p?"Hide Items":"Manage Items"})]}),N.length>0&&(0,n.jsx)("div",{className:"space-y-2 mb-4",children:N.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"text-sm",children:"current_location"in e?"\uD83D\uDCE6":"⚙️"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,n.jsx)("div",{className:"text-xs text-gray-600",children:"current_location"in e?"At: ".concat("other"===e.current_location?e.other_location:e.current_location):"Required for: ".concat(e.required_for)})]})]}),(0,n.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{"current_location"in e?v(e.id):y(e.id)},className:"text-red-600 hover:text-red-700",children:"Remove"})]},e.id))}),p&&(0,n.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Inventory Items"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:x.map(e=>(0,n.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.includes(e.id),onChange:()=>v(e.id),className:"rounded"}),(0,n.jsxs)("div",{className:"flex-1 text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",e.category,")"]})]})]},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Equipment"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:u.map(e=>(0,n.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:s.includes(e.id),onChange:()=>y(e.id),className:"rounded"}),(0,n.jsxs)("div",{className:"flex-1 text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsxs)("span",{className:"text-gray-500 ml-2 text-xs",children:["(",e.required_for,")"]})]})]},e.id))})]})]})]})}):(0,n.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-gray-400 mb-2",children:"\uD83D\uDCE6"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:m}),(0,n.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>g(!0),children:"Link Inventory Items"})]})})}function d(){let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)([]);return{selectedItems:e,selectedEquipment:s,setSelectedItems:t,setSelectedEquipment:n,reset:()=>{t([]),n([])},getSelectedData:()=>({items:e,equipment:s,count:e.length+s.length})}}function o(e){let{eventTitle:t,eventDate:s,eventParent:o,isGuestMode:m=!1}=e,x=d(),[h,u]=(0,i.useState)(!1),[j,p]=(0,i.useState)(null),g=new a.y,b=async()=>{try{let e=g.generateDemoInventory(),n=e.items.filter(e=>x.selectedItems.includes(e.id)),i=e.equipment.filter(e=>x.selectedEquipment.includes(e.id)),a=[...n,...i];if(0===a.length)return;let{report:r}=g.generateAccountabilityReport(o,a,s,t);p(r),u(!0)}catch(e){console.error("Error generating accountability report:",e)}},v=e=>{switch(e){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsxs)(r.ZB,{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCC5"}),(0,n.jsxs)("span",{children:["Event Preparation: ",t]})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:[s.toLocaleDateString()," - Assigned to ","parent_a"===o?"Parent A":"Parent B"]})]}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-3",children:"Required Items & Equipment"}),(0,n.jsx)(c,{selectedItems:x.selectedItems,selectedEquipment:x.selectedEquipment,onItemsChange:x.setSelectedItems,onEquipmentChange:x.setSelectedEquipment,isGuestMode:m,title:"Items Needed for Event",description:"Select items and equipment needed for this event"})]}),x.getSelectedData().count>0&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h4",{className:"font-medium",children:"Accountability & Coordination"}),(0,n.jsx)(l.$,{onClick:b,variant:"outline",size:"sm",children:"Generate Accountability Report"})]}),(0,n.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-blue-600",children:"\uD83D\uDC65"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-medium text-blue-800 mb-1",children:"Co-Parent Accountability"}),(0,n.jsx)("p",{className:"text-sm text-blue-700 mb-2",children:"When you mark items as needed for this event, the other parent will be notified and held accountable for ensuring the items are available."}),(0,n.jsxs)("div",{className:"text-xs text-blue-600",children:["✅ ",x.getSelectedData().count," item(s) marked for accountability"]}),m&&(0,n.jsx)("div",{className:"text-xs text-blue-500 mt-1",children:"\uD83C\uDFAD In real mode, this would send notifications to the co-parent"})]})]})})]})]})})]}),h&&j&&(0,n.jsxs)(r.Zp,{className:"border-2 border-blue-500",children:[(0,n.jsx)(r.aR,{className:"bg-blue-50",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(r.ZB,{className:"text-blue-800",children:"Accountability Report"}),(0,n.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:"\xd7"})]})}),(0,n.jsx)(r.Wu,{className:"p-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold",children:j.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:j.summary}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Preparation deadline: ",j.deadline.toLocaleString()]})]}),(0,n.jsxs)("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"ready":return"text-green-600 bg-green-50";case"action_needed":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(j.overallStatus)),children:["Overall Status: ",j.overallStatus.replace("_"," ").toUpperCase()]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h4",{className:"font-medium",children:"Item Checklist:"}),j.items.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(v(e.priority)),children:e.priority.toUpperCase()})]}),e.description&&(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.action})]}),(0,n.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat("ready"===e.currentStatus?"bg-green-100 text-green-700":"needs_transfer"===e.currentStatus?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.currentStatus.replace("_"," ")})]},t))]}),(0,n.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-amber-600",children:"\uD83D\uDCCB"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-medium text-amber-800 mb-1",children:"Accountability Notice"}),(0,n.jsx)("p",{className:"text-sm text-amber-700",children:"This report will be shared with the co-parent to ensure accountability. Both parents can track the preparation status and coordinate as needed."})]})]})})]})})]})]})}function m(e){let{onFormDataChange:t}=e,[s,a]=(0,i.useState)(""),[l,o]=(0,i.useState)(""),m=d(),x=()=>{t({logisticsType:s,description:l,inventoryItems:m.selectedItems,equipment:m.selectedEquipment,metadata:{itemCount:m.getSelectedData().count,hasInventoryItems:m.getSelectedData().count>0}})};(0,i.useState)(()=>{x()});let h=e=>{a(e),x()},u=e=>{o(e),x()};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(r.Zp,{children:[(0,n.jsx)(r.aR,{children:(0,n.jsxs)(r.ZB,{className:"text-blue-800 flex items-center space-x-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCE6"}),(0,n.jsx)("span",{children:"Logistics Details"})]})}),(0,n.jsxs)(r.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Logistics Type"}),(0,n.jsxs)("select",{value:s,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Select logistics type"}),(0,n.jsx)("option",{value:"forgotten_item",children:"\uD83C\uDF92 Forgotten Item"}),(0,n.jsx)("option",{value:"schedule_change",children:"\uD83D\uDCC5 Schedule Change"}),(0,n.jsx)("option",{value:"pickup_coordination",children:"\uD83D\uDE97 Pickup Coordination"}),(0,n.jsx)("option",{value:"item_transfer",children:"\uD83D\uDCE6 Item Transfer"}),(0,n.jsx)("option",{value:"other",children:"\uD83D\uDCCB Other"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Description"}),(0,n.jsx)("textarea",{value:l,onChange:e=>u(e.target.value),placeholder:"Describe what needs coordination...",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px]"})]})]})]}),(0,n.jsx)(c,{selectedItems:m.selectedItems,selectedEquipment:m.selectedEquipment,onItemsChange:e=>{m.setSelectedItems(e),x()},onEquipmentChange:e=>{m.setSelectedEquipment(e),x()},title:"Related Items & Equipment",description:"Link inventory items that are involved in this logistics situation"}),m.getSelectedData().count>0&&(0,n.jsx)(r.Zp,{className:"bg-amber-50 border-amber-200",children:(0,n.jsx)(r.Wu,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-amber-600",children:"⚠️"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-amber-800 mb-1",children:"Accountability Notice"}),(0,n.jsxs)("p",{className:"text-sm text-amber-700",children:[m.getSelectedData().count," item(s) are linked to this situation. Both parents will be notified about the location and status of these items. This helps ensure accountability and coordination."]})]})]})})})]})}function x(){var e,t,s,a,l,c;let[d,x]=(0,i.useState)("events"),[h,u]=(0,i.useState)({}),j={title:"Emma's Soccer Practice",date:new Date(Date.now()+1728e5),parent:"parent_a"};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Inventory Integration Demos"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"See how inventory management integrates with events and situations for accountability."})]}),(0,n.jsx)("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"\uD83C\uDFAD Demo Mode"})]})}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,n.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,n.jsx)("button",{onClick:()=>x("events"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("events"===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83D\uDCC5 Event-Inventory Integration"}),(0,n.jsx)("button",{onClick:()=>x("situations"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("situations"===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83D\uDEA8 Situation-Inventory Integration"})]}),"events"===d&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(r.Zp,{className:"border-green-200 bg-green-50",children:[(0,n.jsx)(r.aR,{children:(0,n.jsx)(r.ZB,{className:"text-green-800",children:"✅ Acceptance Criteria Demo"})}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("p",{className:"text-green-700 text-sm",children:[(0,n.jsx)("strong",{children:"Given a coparent needs to ensure that the child needs something for an event"}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"When they mark it on the event"}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"The other parent can be held accountable for making sure they bring it"})]})})]}),(0,n.jsx)(o,{eventTitle:j.title,eventDate:j.date,eventParent:j.parent,isGuestMode:!0}),(0,n.jsx)(r.Zp,{className:"bg-blue-50 border-blue-200",children:(0,n.jsx)(r.Wu,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-blue-600",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-blue-800 mb-1",children:"How This Works"}),(0,n.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,n.jsx)("li",{children:"• When you mark items as needed for an event, the system creates accountability"}),(0,n.jsx)("li",{children:"• The other parent receives notifications about required items"}),(0,n.jsx)("li",{children:"• Location tracking ensures items are where they need to be"}),(0,n.jsx)("li",{children:"• Accountability reports show preparation status to both parents"})]})]})]})})})]}),"situations"===d&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(r.Zp,{className:"border-green-200 bg-green-50",children:[(0,n.jsx)(r.aR,{children:(0,n.jsx)(r.ZB,{className:"text-green-800",children:"✅ Acceptance Criteria Demo"})}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("p",{className:"text-green-700 text-sm",children:[(0,n.jsx)("strong",{children:"Given there is a situation that involves an item or an item that is needed"}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"When the situation is created"}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"The item can be linked to the inventory"})]})})]}),(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsx)(r.ZB,{children:"Create Logistics Situation"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Demonstrate how inventory items can be linked to situations for coordination."})]}),(0,n.jsx)(r.Wu,{children:(0,n.jsx)(m,{onFormDataChange:u,isGuestMode:!0})})]}),(null==h||null==(e=h.inventoryItems)?void 0:e.length)>0||(null==h||null==(t=h.equipment)?void 0:t.length)>0?(0,n.jsxs)(r.Zp,{className:"bg-green-50 border-green-200",children:[(0,n.jsx)(r.aR,{children:(0,n.jsx)(r.ZB,{className:"text-green-800",children:"\uD83D\uDD17 Situation-Inventory Link Created"})}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"Situation Type:"})," ",h.logisticsType||"Not selected"]}),(0,n.jsxs)("p",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"Linked Items:"})," ",(null!=(l=null==(s=h.inventoryItems)?void 0:s.length)?l:0)+(null!=(c=null==(a=h.equipment)?void 0:a.length)?c:0)," item(s)"]}),(0,n.jsxs)("p",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"Result:"})," Both parents can see which items are involved in this situation and their current locations."]})]})})]}):null,(0,n.jsx)(r.Zp,{className:"bg-blue-50 border-blue-200",children:(0,n.jsx)(r.Wu,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-blue-600",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-blue-800 mb-1",children:"How This Works"}),(0,n.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,n.jsx)("li",{children:"• When creating a situation, you can link relevant inventory items"}),(0,n.jsx)("li",{children:"• The system tracks item locations and generates coordination insights"}),(0,n.jsx)("li",{children:"• Both parents see which items are involved and where they are"}),(0,n.jsx)("li",{children:"• Automated action items help coordinate item transfers if needed"})]})]})]})})})]})]}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("a",{href:"/inventory",className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium",children:[(0,n.jsx)("span",{children:"←"}),(0,n.jsx)("span",{children:"Back to Inventory Management"})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[277,733,441,684,358],()=>t(1796)),_N_E=e.O()}]);