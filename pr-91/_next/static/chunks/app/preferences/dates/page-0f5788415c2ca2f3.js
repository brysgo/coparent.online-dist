(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{2706:(e,r,a)=>{Promise.resolve().then(a.bind(a,3751))},3751:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var s=a(5155),t=a(2115),n=a(387),i=a(2099);function d(){let[e,r]=(0,t.useState)([]),[a,d]=(0,t.useState)({}),[l,c]=(0,t.useState)(!0),[o,h]=(0,t.useState)(null),y=(0,i.k)(),m="rel-123",x="user-123";(0,t.useEffect)(()=>{u(),g()},[]);let u=async()=>{try{let{data:e,error:a}=await y.from("date_preferences").select("*").eq("relationshipId",m).eq("userId",x).order("priority",{ascending:!0});if(a)throw a;r(e||[])}catch(e){console.error("Error loading existing preferences:",e),h("Failed to load existing preferences")}},g=async()=>{d({"2024-01-01":"New Year's Day","2024-02-14":"Valentine's Day","2024-03-17":"St. Patrick's Day","2024-04-01":"Easter","2024-05-12":"Mother's Day","2024-06-16":"Father's Day","2024-07-04":"Independence Day","2024-09-02":"Labor Day","2024-10-31":"Halloween","2024-11-28":"Thanksgiving","2024-12-25":"Christmas Day","2024-12-31":"New Year's Eve","2025-01-01":"New Year's Day","2025-02-14":"Valentine's Day","2025-03-17":"St. Patrick's Day","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-06-15":"Father's Day","2025-07-04":"Independence Day","2025-09-01":"Labor Day","2025-10-31":"Halloween","2025-11-27":"Thanksgiving","2025-12-25":"Christmas Day","2025-12-31":"New Year's Eve"}),c(!1)};return l?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading your date preferences..."})]})}):o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-md",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Error Loading Preferences"}),(0,s.jsx)("p",{children:o}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,s.jsx)(n.Q,{relationshipId:m,currentUserId:x,selectedDates:e.map(e=>new Date(e.date)),existingPreferences:e,holidayData:a})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[277,982,804,796,110,387,441,684,358],()=>r(2706)),_N_E=e.O()}]);