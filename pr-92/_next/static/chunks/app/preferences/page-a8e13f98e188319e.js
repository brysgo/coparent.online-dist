(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{844:(e,t,s)=>{"use strict";s.d(t,{GY:()=>d,h9:()=>i,hV:()=>l});var r=s(9509);function a(){let e=n();return"main"===e||"master"===e||"production"===e?"production":"development"}function n(){return"copilot/fix-81"}function i(){if("production"===a())return{url:"https://placeholder.supabase.co",anonKey:"placeholder-anon-key",serviceRoleKey:r.env.SUPABASE_SERVICE_ROLE_KEY||"placeholder-service-role-key"};{let e=r.env.SUPABASE_DEV_URL||"https://bqiapoplmkkrtnsmmxhs.supabase.co";return{url:e,anonKey:r.env.SUPABASE_DEV_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxaWFwb3BsbWtrcnRuc21teGhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NDA3OTMsImV4cCI6MjA2ODAxNjc5M30.bZGNGvb8XYZSWkbfMYMNBAzoedp4SGOIerHmNcRqUsk",serviceRoleKey:r.env.SUPABASE_DEV_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxaWFwb3BsbWtrcnRuc21teGhzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ0MDc5MywiZXhwIjoyMDY4MDE2NzkzfQ.7m9y2vqrq1Sd8bX6dl6A47WQbZoQHGKc7o2rzrcTjKI"}}}function l(e){return"https://placeholder.supabase.co"!==e.url&&"placeholder-anon-key"!==e.anonKey&&e.url.includes("supabase.co")}function d(){let e=n(),t=a(),s=i(),r=l(s);return{currentBranch:e,environment:t,supabaseUrl:s.url,hasValidConfig:r,configSource:"production"===t?"production":"development-default"}}},2099:(e,t,s)=>{"use strict";s.d(t,{H:()=>l,k:()=>i});var r=s(4982),a=s(844);let n=null,i=()=>{if(n)return n;let e=(0,a.h9)();return n=(0,a.hV)(e)?(0,r.UU)(e.url,e.anonKey,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,detectSessionInUrl:!0}}):(0,r.UU)("https://placeholder.supabase.co","placeholder-anon-key",{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,detectSessionInUrl:!0}})},l=()=>{let e=(0,a.h9)();return(0,a.hV)(e)&&e.serviceRoleKey&&"placeholder-service-role-key"!==e.serviceRoleKey?(0,r.UU)(e.url,e.serviceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1}}):(0,r.UU)("https://placeholder.supabase.co","placeholder-service-role-key",{auth:{autoRefreshToken:!1,persistSession:!1}})}},3538:(e,t,s)=>{Promise.resolve().then(s.bind(s,4607))},4607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5155),a=s(2115),n=s(4110),i=s(2099);let l=[{id:"0",label:"Sunday",description:"Weekend day"},{id:"1",label:"Monday",description:"Start of school week"},{id:"2",label:"Tuesday",description:"School day"},{id:"3",label:"Wednesday",description:"Mid-week"},{id:"4",label:"Thursday",description:"School day"},{id:"5",label:"Friday",description:"End of school week"},{id:"6",label:"Saturday",description:"Weekend day"}];function d(e){let{relationshipId:t,currentUserId:s,existingPreferences:d=[],otherParentPreferences:c=[]}=e,[o,m]=(0,a.useState)(l),[h,u]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(d.length>0){let e=[...d].sort((e,t)=>e.priority-t.priority),t=e.map(e=>l.find(t=>parseInt(t.id)===e.dayOfWeek)),s=new Set(e.map(e=>e.dayOfWeek.toString()));m([...t,...l.filter(e=>!s.has(e.id))])}},[d]);let b=async e=>{u(!0),p(null);try{let r=(0,i.k)(),a=e.map((e,r)=>({relationshipId:t,userId:s,dayOfWeek:parseInt(e.id),priority:r+1})),{error:n}=await r.from("day_preferences").upsert(a);if(n)throw n;m(e)}catch(e){p("Error saving preferences. Please try again."),console.error("Error saving day preferences:",e)}finally{u(!1)}};return(0,r.jsxs)("div",{className:"space-y-6","data-testid":"day-preferences",children:[c.length>0&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Other Parent's Preferences"}),(0,r.jsx)("button",{onClick:()=>y(!f),className:"text-blue-600 hover:text-blue-800 text-sm",children:f?"Hide":"Show"})]}),f&&(0,r.jsx)("div",{className:"space-y-2",children:c.sort((e,t)=>e.priority-t.priority).map((e,t)=>{let s=l.find(t=>parseInt(t.id)===e.dayOfWeek);return(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("span",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs mr-3",children:t+1}),(0,r.jsx)("span",{children:null==s?void 0:s.label})]},e.dayOfWeek)})})]}),x&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-800",children:x})}),h&&(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Saving your preferences..."})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{"data-testid":"sort-day-preferences",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>{let e=document.querySelector('[data-testid="sorting-component"]');e&&e.scrollIntoView({behavior:"smooth"})},children:"Start Sorting Day Preferences"})}),(0,r.jsx)(n.S,{items:o,onSortComplete:b,title:"Sort Your Day Preferences",description:"Rank the days of the week by your preference to have your child. Most preferred days will be ranked higher."})]})}var c=s(285),o=s(6695);function m(e){let{selectedDates:t,onDatesChange:s,onStartSorting:n,holidayData:i={}}=e,[l,d]=(0,a.useState)(""),m=e=>{let r=new Date;if(r.setHours(0,0,0,0),e<r)return;let a=e.toISOString().split("T")[0];t.map(e=>e.toISOString().split("T")[0]).includes(a)||s([...t,e])},h=e=>{s(t.filter(t=>t.toISOString()!==e.toISOString()))},u=e=>{let t=i[e.toISOString().split("T")[0]];return t?"".concat(t," (").concat(e.toLocaleDateString(),")"):e.toLocaleDateString()},x=[{date:new Date("2024-12-25"),label:"Christmas Day"},{date:new Date("2024-01-01"),label:"New Year's Day"},{date:new Date("2024-07-04"),label:"Independence Day"},{date:new Date("2024-11-28"),label:"Thanksgiving"},{date:new Date("2024-10-31"),label:"Halloween"},{date:new Date("2024-02-14"),label:"Valentine's Day"}].filter(e=>{let t=new Date;return t.setHours(0,0,0,0),e.date>=t});return(0,r.jsxs)(o.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsx)(o.ZB,{children:"Select Important Dates"}),(0,r.jsx)(o.BT,{children:"Choose the dates that are most important to you for having your child. You'll then sort them by priority."})]}),(0,r.jsxs)(o.Wu,{className:"space-y-6",children:[t.length>0&&(0,r.jsxs)("div",{"data-testid":"selected-dates",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2",children:["Selected Dates (",t.length,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{"data-testid":"selected-".concat(e.toISOString()),className:"flex items-center justify-between p-2 bg-blue-50 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm",children:u(e)}),(0,r.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>h(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e.toISOString()))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Common Important Dates"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:x.map(e=>{let s=t.some(t=>t.toISOString().split("T")[0]===e.date.toISOString().split("T")[0]);return(0,r.jsx)(c.$,{variant:s?"secondary":"outline",size:"sm",onClick:()=>m(e.date),disabled:s,className:"text-xs",children:e.label},e.date.toISOString())})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Add Custom Date"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"date",value:l,onChange:e=>d(e.target.value),min:new Date().toISOString().split("T")[0],className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,r.jsx)(c.$,{onClick:()=>{l&&(m(new Date(l)),d(""))},disabled:!l,size:"sm",children:"Add Date"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsx)(c.$,{"data-testid":"start-sorting",onClick:n,disabled:t.length<2,className:"w-full",size:"lg",children:t.length<2?"Select at least 2 dates to start sorting (".concat(t.length,"/2)"):"Start Sorting ".concat(t.length," Dates")}),t.length>=2&&(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"You'll compare dates to determine which are most important to you"})]})]})]})}function h(e){let{relationshipId:t,currentUserId:s,selectedDates:l=[],existingPreferences:d=[],holidayData:c={}}=e,[o,h]=(0,a.useState)(l),[u,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)(null),g=(0,i.k)(),j=e=>{let t=new Date;return t.setHours(0,0,0,0),e.filter(e=>{let s=new Date(e);return s.setHours(0,0,0,0),s>=t})},v=async e=>{f(!0),b(null);try{let r=e.map((e,r)=>({relationshipId:t,userId:s,date:e.id,priority:r+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),{error:a}=await g.from("date_preferences").upsert(r);if(a)throw a;x(!1)}catch(e){b("Error saving preferences. Please try again."),console.error("Error saving date preferences:",e)}finally{f(!1)}},N=()=>{x(!1)};if(u){let e=(e=>{let t=j(e).map(e=>{let t=e.toISOString().split("T")[0],s=c[t];return{id:t,label:s||e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),description:s?e.toLocaleDateString():void 0,metadata:{date:t,isHoliday:!!s}}});if(d.length>0){let e=new Map(d.map(e=>[e.date,e.priority]));t.sort((t,s)=>(e.get(t.id)||999)-(e.get(s.id)||999))}return t})(o);return e.length<2?(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"No Future Dates to Sort"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"All selected dates are in the past. Please select future dates to sort."}),(0,r.jsx)("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Back to Date Selection"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[y&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:y}),(0,r.jsx)(n.S,{items:e,onSortComplete:v,title:"Sort Your Date Preferences",description:"Compare pairs of dates to determine which are most important to you for having your child."}),p&&(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsxs)("div",{className:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-blue-500",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving preferences..."]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{onClick:N,className:"text-blue-600 hover:text-blue-800 text-sm",disabled:p,children:"← Back to Date Selection"})})]})}return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Date Preference Sorting"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Select important dates and sort them by priority to help with custody scheduling."})]}),(0,r.jsx)(m,{selectedDates:o,onDatesChange:h,onStartSorting:()=>{x(!0)},holidayData:c}),d.length>0&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Your Current Preferences"}),(0,r.jsx)("div",{className:"space-y-1",children:d.sort((e,t)=>e.priority-t.priority).map((e,t)=>{let s=c[e.date],a=new Date(e.date),n=s||a.toLocaleDateString();return(0,r.jsxs)("div",{className:"text-sm text-blue-800",children:[t+1,". ",n]},e.date)})})]})]})}let u=["7:00","8:00","9:00","12:00","15:00","16:00","17:00","18:00","19:00","20:00"],x=["8:00","9:00","10:00","11:00","12:00","14:00","16:00","17:00","18:00","19:00","20:00"],p={"7:00":"Early morning","8:00":"Before school/work","9:00":"Morning","12:00":"Lunch time","15:00":"After school","16:00":"Late afternoon","17:00":"Before dinner","18:00":"Dinner time","19:00":"After dinner","20:00":"Evening","21:00":"Late evening"};function f(e){let{relationshipId:t,currentUserId:s,dayType:l,existingPreferences:d=[],timeSlots:c,onPreferencesUpdated:o}=e,[m,h]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[b,g]=(0,a.useState)(!1),[j,v]=(0,a.useState)([]),N=(0,i.k)(),S=c||("weekday"===l?u:x);(0,a.useEffect)(()=>{v(d.filter(e=>e.dayType===l).map(e=>e.time))},[d,l]);let w=e=>{let[t,s]=e.split(":"),r=parseInt(t);return"".concat(0===r?12:r>12?r-12:r,":").concat(s," ").concat(r>=12?"PM":"AM")},I=e=>p[e]||"",k=(e,t)=>{t?v(t=>[...t,e]):v(t=>t.filter(t=>t!==e))},D=async e=>{h(!0),y(null);try{let r=e.map((e,r)=>({relationshipId:t,userId:s,time:e.id,dayType:l,priority:r+1,context:I(e.id)}));await N.from("handoff_time_preferences").delete().eq("relationshipId",t).eq("userId",s).eq("dayType",l);let{error:a}=await N.from("handoff_time_preferences").insert(r);if(a)throw a;if(o){let e=r.map((e,t)=>({...e,id:"temp-".concat(t),createdAt:new Date,updatedAt:new Date}));o(e)}g(!1)}catch(e){y("Error saving handoff time preferences. Please try again."),console.error("Error saving handoff time preferences:",e)}finally{h(!1)}};if(b){let e=(()=>{let e=d.filter(e=>e.dayType===l).reduce((e,t)=>(e[t.time]=t,e),{});return j.sort((t,s)=>{let r=e[t],a=e[s];return r&&a?r.priority-a.priority:r?-1:a?1:t.localeCompare(s)}).map(e=>({id:e,label:w(e),description:I(e),metadata:{time:e,dayType:l}}))})();return(0,r.jsxs)("div",{className:"space-y-4",children:[m&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-blue-800",children:"Saving your preferences..."})}),f&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-red-800",children:f})}),(0,r.jsx)("button",{onClick:()=>{g(!1),y(null)},className:"mb-4 text-blue-600 hover:text-blue-800 flex items-center",disabled:m,children:"← Back to Time Selection"}),(0,r.jsx)(n.S,{items:e,onSortComplete:D,title:"Sort Your ".concat("weekday"===l?"Weekday":"Weekend"," Handoff Time Preferences"),description:"Choose which handoff time you prefer when given the option. Your most preferred time will be ranked first."})]})}return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["weekday"===l?"Weekday":"Weekend"," Handoff Time Preferences"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Select your preferred handoff times and sort them by preference to help with custody scheduling."})]}),f&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-red-800",children:f})}),(0,r.jsxs)("div",{"data-testid":"time-selector",className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Select Preferred Handoff Times"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:S.map(e=>(0,r.jsxs)("label",{className:"\n                flex items-center space-x-2 p-3 rounded-lg border cursor-pointer transition-colors\n                ".concat(j.includes(e)?"bg-blue-50 border-blue-300 text-blue-900":"bg-white border-gray-200 hover:bg-gray-50","\n              "),children:[(0,r.jsx)("input",{type:"checkbox",checked:j.includes(e),onChange:t=>k(e,t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","data-testid":"time-".concat(e)}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium",children:w(e)}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:I(e)})]})]},e))}),(0,r.jsxs)("div",{"data-testid":"selected-times",className:"mt-4",children:[(0,r.jsxs)("h3",{className:"text-md font-medium mb-2",children:["Selected Times (",j.length,")"]}),j.length>0?(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,r.jsxs)("span",{"data-testid":"selected-".concat(e),className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[w(e),(0,r.jsx)("button",{onClick:()=>k(e,!1),className:"ml-2 text-blue-600 hover:text-blue-800","aria-label":"Remove ".concat(w(e)),children:"\xd7"})]},e))}):(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"No times selected"})]}),(0,r.jsx)("button",{onClick:()=>{if(j.length<2)return void y("Please select at least 2 handoff times to sort.");g(!0),y(null)},disabled:j.length<2||m,"data-testid":"start-sorting",className:"\n            w-full py-3 px-4 rounded-md font-medium transition-colors\n            ".concat(j.length>=2&&!m?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed","\n          "),children:m?"Saving...":"Start Sorting Preferences"}),j.length<2&&(0,r.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Select at least 2 handoff times to enable sorting"})]})]})}var y=s(6661);let b={relationshipId:"rel-123",currentUserId:"user-123",existingPreferences:[],otherParentPreferences:[]};function g(){let[e,t]=(0,a.useState)("days"),[s,n]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[o,m]=(0,a.useState)({}),[u,x]=(0,a.useState)(!0),p=(0,i.k)();(0,a.useEffect)(()=>{g()},[]);let g=async()=>{try{x(!0);let{data:e}=await p.from("date_preferences").select("*").eq("relationshipId",b.relationshipId).eq("userId",b.currentUserId).order("priority",{ascending:!0}),{data:t}=await p.from("handoff_time_preferences").select("*").eq("relationshipId",b.relationshipId).eq("userId",b.currentUserId);n(e||[]),c(t||[]),m({"2024-01-01":"New Year's Day","2024-02-14":"Valentine's Day","2024-03-17":"St. Patrick's Day","2024-04-01":"Easter","2024-05-12":"Mother's Day","2024-06-16":"Father's Day","2024-07-04":"Independence Day","2024-09-02":"Labor Day","2024-10-31":"Halloween","2024-11-28":"Thanksgiving","2024-12-25":"Christmas Day","2024-12-31":"New Year's Eve","2025-01-01":"New Year's Day","2025-02-14":"Valentine's Day","2025-03-17":"St. Patrick's Day","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-06-15":"Father's Day","2025-07-04":"Independence Day","2025-09-01":"Labor Day","2025-10-31":"Halloween","2025-11-27":"Thanksgiving","2025-12-25":"Christmas Day","2025-12-31":"New Year's Eve"})}catch(e){console.warn("Could not load preferences (demo mode):",e)}finally{x(!1)}},j=e=>l.filter(t=>t.dayType===e),v=(e,t)=>{c(s=>[...s.filter(e=>e.dayType!==t),...e])};if(u)return(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading your preferences..."})]})})});let N=[{id:"days",label:"Day Preferences",icon:"\uD83D\uDCC5"},{id:"handoff-times",label:"Handoff Times",icon:"⏰"},{id:"dates",label:"Date Preferences",icon:"\uD83D\uDDD3️"},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14"}];return(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Preferences"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Set your preferences for scheduling and co-parenting arrangements."})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200",children:[(0,r.jsx)("div",{className:"block sm:hidden px-4 py-3",children:(0,r.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:N.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.icon," ",e.label]},e.id))})}),(0,r.jsx)("nav",{className:"hidden sm:flex -mb-px overflow-x-auto px-4 lg:px-6","aria-label":"Tabs",children:(0,r.jsx)("div",{className:"flex space-x-6 lg:space-x-8 min-w-max",children:N.map(s=>(0,r.jsxs)("button",{onClick:()=>t(s.id),className:"".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 flex-shrink-0"),"data-testid":"".concat(s.id,"-tab"),children:[(0,r.jsx)("span",{children:s.icon}),(0,r.jsx)("span",{children:s.label})]},s.id))})})]}),(0,r.jsxs)("div",{className:"p-6",children:["days"===e&&(0,r.jsxs)("div",{"data-testid":"days-content",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Day Preferences"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Set your preferences for which days of the week you'd prefer to have your child."})]}),(0,r.jsx)(d,{relationshipId:b.relationshipId,currentUserId:b.currentUserId,existingPreferences:b.existingPreferences,otherParentPreferences:b.otherParentPreferences})]}),"handoff-times"===e&&(0,r.jsxs)("div",{"data-testid":"handoff-times-content",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Handoff Time Preferences"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Set your preferred handoff times for weekdays and weekends."})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC5"}),"Weekdays"]}),(0,r.jsx)(f,{relationshipId:b.relationshipId,currentUserId:b.currentUserId,dayType:"weekday",existingPreferences:j("weekday"),onPreferencesUpdated:e=>v(e,"weekday")})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83C\uDF89"}),"Weekends"]}),(0,r.jsx)(f,{relationshipId:b.relationshipId,currentUserId:b.currentUserId,dayType:"weekend",existingPreferences:j("weekend"),onPreferencesUpdated:e=>v(e,"weekend")})]})]})]}),"dates"===e&&(0,r.jsxs)("div",{"data-testid":"dates-content",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Date Preferences"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Set preferences for specific dates like holidays and special occasions."})]}),(0,r.jsx)(h,{relationshipId:b.relationshipId,currentUserId:b.currentUserId,selectedDates:s.map(e=>new Date(e.date)),existingPreferences:s,holidayData:o})]}),"notifications"===e&&(0,r.jsxs)("div",{"data-testid":"notifications-content",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Notification Preferences"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage how and when you receive notifications about important co-parenting updates."})]}),(0,r.jsx)(y.NotificationPreferences,{})]})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[277,982,804,796,110,661,441,684,358],()=>t(3538)),_N_E=e.O()}]);