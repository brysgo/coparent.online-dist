"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{285:(e,t,r)=>{r.d(t,{$:()=>l});var a=r(5155),n=r(2115),i=r(4624),s=r(2085),o=r(9434);let d=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(d({variant:n,size:s,className:r})),ref:t,...c})});l.displayName="Button"},1589:(e,t,r)=>{r.d(t,{V:()=>n});class a{generateMealResponsibilities(e,t,r,a){let n=[],i=new Date(t);for(;i<=r;){let t=i.toISOString().split("T")[0],r=this.generateMealResponsibilityForDate(e,t,a);r&&n.push(r),i.setDate(i.getDate()+1)}return n}generateMealResponsibilityForDate(e,t,r){let a={},n=e.custom_assignments.filter(e=>e.date===t),i=new Set(n.map(e=>e.meal_type));return(n.forEach(t=>{var r;a[t.meal_type]={responsible_parent_id:t.responsible_parent_id,time:t.time||(null==(r=e.default_assignments[t.meal_type])?void 0:r.time)||this.getDefaultMealTime(t.meal_type),location:t.location,notes:t.notes}}),["breakfast","lunch","dinner"].forEach(n=>{if(!i.has(n)&&e.default_assignments[n]){let i=e.default_assignments[n],s=i.parent_id;if(r){let e=r.find(e=>e.date===t);e&&(s=e.responsible_parent_id)}a[n]={responsible_parent_id:s,time:i.time}}}),0===Object.keys(a).length)?null:{date:t,meals:a}}createMealAssignment(e,t,r,a,n){return{id:"meal-".concat(r,"-").concat(t,"-").concat(Date.now()),relationship_id:e,date:t,meal_type:r,responsible_parent_id:a,time:null==n?void 0:n.time,location:null==n?void 0:n.location,notes:null==n?void 0:n.notes,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}updateMealSchedule(e,t){let r=[...e.custom_assignments];return t.forEach(e=>{let t=r.findIndex(t=>t.date===e.date&&t.meal_type===e.meal_type);-1!==t?r[t]=e:r.push(e)}),{...e,custom_assignments:r,updated_at:new Date().toISOString()}}getMealResponsibility(e,t,r,a){let n=this.generateMealResponsibilityForDate(e,t,a);return(null==n?void 0:n.meals[r])||null}createDefaultMealSchedule(e,t,r){return{id:"meal-schedule-".concat(e),relationship_id:e,default_assignments:{breakfast:{parent_id:t,time:"07:30"},lunch:{parent_id:t,time:"12:00"},dinner:{parent_id:t,time:"18:30"}},custom_assignments:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}getDefaultMealTime(e){switch(e){case"breakfast":return"07:30";case"lunch":default:return"12:00";case"dinner":return"18:30";case"snack":return"15:00"}}}let n=new a},2085:(e,t,r)=>{r.d(t,{F:()=>s});var a=r(2596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.$,s=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:o}=t,d=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],a=null==o?void 0:o[e];if(null===t)return null;let i=n(t)||n(a);return s[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return i(e,d,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...l}[t]):({...o,...l})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},4624:(e,t,r)=>{r.d(t,{DX:()=>s});var a=r(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(5155),s=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...i}=e;if(a.isValidElement(r)){var s;let e,o,d=(s=r,(o=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(o=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),l=function(e,t){let r={...t};for(let a in t){let n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...i}:"className"===a&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==a.Fragment&&(l.ref=t?function(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}(t,d):d),a.cloneElement(r,l)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...s}=e,o=a.Children.toArray(n),l=o.find(d);if(l){let e=l.props.children,n=o.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...s,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),o=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},5705:(e,t,r)=>{r.d(t,{B:()=>p});var a=r(1589);let n=()=>({currentUser:{id:"demo-user-1",email:"demo.parent1@example.com",full_name:"Alex Johnson",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z",credit_score:100},otherParent:{id:"demo-user-2",email:"demo.parent2@example.com",full_name:"Jordan Smith",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z",credit_score:100}}),i=()=>[{id:"demo-child-1",name:"Emma Johnson-Smith",date_of_birth:"2016-03-15",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-child-2",name:"Liam Johnson-Smith",date_of_birth:"2019-08-22",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],s=(e,t,r)=>({id:"demo-relationship-1",child_id:r,parent_a_id:e,parent_b_id:t,time_ratio:50,preference_ratio:50,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}),o=(e,t,r)=>{let a=[],n=new Date,i=new Date;i.setMonth(i.getMonth()+2);let s=new Date(n),o=t,d=0;for(;s<=i;){d>0&&1===s.getDay()&&(o=o===t?r:t);let n=s.getDay();if(0===n||6===n||o===t&&(1===n||2===n)||o===r&&(4===n||5===n)){let r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),18,0),n=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1,8,0);a.push({id:"demo-event-".concat(a.length+1),schedule_id:e,parent_id:o,start_time:r.toISOString(),end_time:n.toISOString(),title:"Custody Time - ".concat(o===t?"Your":"Co-parent's"," Week"),description:"Regular custody schedule",location:o===t?"Your Home":"Co-parent's Home",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"})}if(11===s.getMonth()&&25===s.getDate()){let t=new Date(s.getFullYear(),s.getMonth(),s.getDate(),9,0),n=new Date(s.getFullYear(),s.getMonth(),s.getDate(),20,0);a.push({id:"demo-event-christmas",schedule_id:e,parent_id:r,start_time:t.toISOString(),end_time:n.toISOString(),title:"Christmas Day",description:"Christmas celebration",location:"Co-parent's Home",created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"})}s.setDate(s.getDate()+1),1===s.getDay()&&d++}return a},d=(e,t)=>({days:[{id:"demo-day-pref-1",relationship_id:e,parent_id:t,day_of_week:5,priority:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-2",relationship_id:e,parent_id:t,day_of_week:6,priority:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-3",relationship_id:e,parent_id:t,day_of_week:0,priority:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-4",relationship_id:e,parent_id:t,day_of_week:3,priority:4,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-5",relationship_id:e,parent_id:t,day_of_week:4,priority:5,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-6",relationship_id:e,parent_id:t,day_of_week:1,priority:6,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-day-pref-7",relationship_id:e,parent_id:t,day_of_week:2,priority:7,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],dates:[{id:"demo-date-pref-1",relationship_id:e,parent_id:t,date:"2025-12-25",priority:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-2",relationship_id:e,parent_id:t,date:"2025-07-04",priority:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-3",relationship_id:e,parent_id:t,date:"2025-11-27",priority:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-date-pref-4",relationship_id:e,parent_id:t,date:"2025-03-15",priority:4,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}],handoffTimes:[{id:"demo-handoff-1",relationship_id:e,time:"18:00",priority_parent_a:1,priority_parent_b:3,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-2",relationship_id:e,time:"12:00",priority_parent_a:2,priority_parent_b:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-3",relationship_id:e,time:"15:00",priority_parent_a:3,priority_parent_b:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-4",relationship_id:e,time:"10:00",priority_parent_a:1,priority_parent_b:2,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"demo-handoff-5",relationship_id:e,time:"14:00",priority_parent_a:2,priority_parent_b:1,created_at:"2024-01-15T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}]}),l=()=>{let{currentUser:e,otherParent:t}=n(),r=i(),l=s(e.id,t.id,r[0].id),c=o("demo-schedule-1",e.id,t.id),u=d(l.id,e.id),p=a.V.createDefaultMealSchedule(l.id,e.id,t.id);return{currentUser:e,otherParent:t,children:r,relationship:l,scheduleEvents:c,mealSchedule:p,preferences:u}},c=()=>({"2025-01-01":"New Year's Day","2025-02-14":"Valentine's Day","2025-03-15":"Emma's Birthday","2025-03-17":"St. Patrick's Day","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-06-15":"Father's Day","2025-07-04":"Independence Day","2025-08-22":"Liam's Birthday","2025-09-01":"Labor Day","2025-10-31":"Halloween","2025-11-27":"Thanksgiving","2025-12-25":"Christmas Day","2025-12-31":"New Year's Eve"});class u{generateDemoData(){return l()}getGuestData(){return this.currentSession?this.currentSession.demoData:null}getHolidayData(){return c()}saveGuestInteraction(e,t,r){if(this.currentSession||this.loadOrCreateSession(),!this.currentSession)return void console.warn("Failed to create guest session");let a={id:"interaction-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,timestamp:new Date,data:t,metadata:r};this.currentSession.interactions.push(a),this.currentSession.lastActivity=new Date,this.currentSession.interactions.length>100&&(this.currentSession.interactions=this.currentSession.interactions.slice(-50)),this.saveSession()}updateGuestPreferences(e,t){this.currentSession&&(this.currentSession.demoData.preferences[e]=t,this.saveGuestInteraction("preference_sort",{type:e,preferences:t}),this.saveSession())}getSessionAnalytics(){let e;if(!this.currentSession)return{sessionDuration:0,interactionCount:0,featuresUsed:[],sortingCompleted:!1,engagementScore:0};let t=Date.now()-this.currentSession.startTime.getTime(),r=this.currentSession.interactions.length,a=[...new Set(this.currentSession.interactions.map(e=>e.type))],n=this.currentSession.interactions.some(e=>"preference_sort"===e.type);return e=0+30*Math.min(t/3e5,1)+40*Math.min(r/10,1)+5*a.length+20*!!n,{sessionDuration:t,interactionCount:r,featuresUsed:a,sortingCompleted:n,engagementScore:Math.min(e,100)}}exportGuestDataForSignup(){return this.currentSession?{preferences:this.currentSession.demoData.preferences}:null}clearGuestData(){try{localStorage.removeItem(u.STORAGE_KEY),this.currentSession=null}catch(e){console.warn("Failed to clear guest data:",e)}}isGuestMode(){return null!==this.currentSession}getSessionId(){var e;return(null==(e=this.currentSession)?void 0:e.sessionId)||null}updateSessionPreferences(e){this.currentSession&&(this.currentSession.preferences={...this.currentSession.preferences,...e},this.saveSession())}loadOrCreateSession(){try{let e=localStorage.getItem(u.STORAGE_KEY);if(e){let t=JSON.parse(e),r=new Date(t.lastActivity);if(!(Date.now()-r.getTime()>u.SESSION_TIMEOUT)){t.startTime=new Date(t.startTime),t.lastActivity=new Date(t.lastActivity),t.interactions=t.interactions.map(e=>({...e,timestamp:new Date(e.timestamp)})),this.currentSession=t;return}}}catch(e){console.warn("Failed to load guest session:",e)}this.createNewSession()}createNewSession(){let e="guest-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));this.currentSession={sessionId:e,startTime:new Date,lastActivity:new Date,interactions:[],demoData:this.generateDemoData(),preferences:{completedTutorial:!1,skipTour:!1,preferredFeatures:[]}},this.saveSession()}saveSession(){if(this.currentSession)try{let e=JSON.stringify(this.currentSession);if(e.length>u.MAX_STORAGE_SIZE){console.warn("Guest session data too large, trimming interactions"),this.currentSession.interactions=this.currentSession.interactions.slice(-20),this.saveSession();return}localStorage.setItem(u.STORAGE_KEY,e)}catch(e){e instanceof DOMException&&22===e.code?(console.warn("localStorage quota exceeded, clearing old guest data"),this.clearGuestData(),this.createNewSession()):console.error("Failed to save guest session:",e)}}getConversionReadiness(){let e=this.getSessionAnalytics(),t={timeSpent:25*Math.min(e.sessionDuration/6e5,1),featuresExplored:25*Math.min(e.featuresUsed.length/3,1),sortingCompleted:25*!!e.sortingCompleted,engagementLevel:.25*e.engagementScore},r=Object.values(t).reduce((e,t)=>e+t,0),a=[];return t.timeSpent<15&&a.push("Encourage more exploration"),t.featuresExplored<15&&a.push("Show additional features"),e.sortingCompleted||a.push("Guide to sorting feature"),r>70&&a.push("Show conversion prompt"),{score:r,factors:t,recommendations:a}}constructor(){this.currentSession=null,this.loadOrCreateSession()}}u.STORAGE_KEY="coparent_guest_session",u.MAX_STORAGE_SIZE=5242880,u.SESSION_TIMEOUT=864e5;let p=new u},6695:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>s,aR:()=>o});var a=r(5155),n=r(2115),i=r(9434);let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});s.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9434:(e,t,r)=>{r.d(t,{Fd:()=>d,Uj:()=>s,cn:()=>i,wz:()=>o});var a=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function s(e){let t=e.startsWith("/")?"".concat("/pr-92").concat(e):e;window.location.href=t}function o(e,t){return e===t||("/"===t?"/"===e:e.startsWith(t+"/")||e===t)}function d(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/".concat(e):"/"}}}]);