(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{285:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var s=t(5155),a=t(2115),n=t(4624),i=t(2085),l=t(9434);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:t})),ref:r,...c})});d.displayName="Button"},1418:(e,r,t)=>{"use strict";t.d(r,{x:()=>n});var s=t(5155),a=t(2115);class n extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){var t,s;console.error("Navigation Error Boundary caught an error:",e,r),null==(t=(s=this.props).onError)||t.call(s,e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"flex items-center justify-center p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,s.jsx)("span",{className:"text-sm text-red-700 dark:text-red-300",children:"Navigation temporarily unavailable"}),(0,s.jsx)("button",{onClick:this.handleRetry,className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 underline ml-2",children:"Retry"})]})}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}},1499:(e,r,t)=>{"use strict";t.d(r,{Header:()=>v});var s=t(5155),a=t(2115),n=t(3715),i=t(285),l=t(6874),o=t.n(l),d=t(5695),c=t(9434);function u(e){let{items:r,className:t=""}=e,n=(0,d.usePathname)(),i=(0,a.useMemo)(()=>{if(r)return r;let e=n.split("/").filter(Boolean),t=[{label:"Home",href:"/"}],s="";return e.forEach(e=>{s+="/".concat(e);let r=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");t.push({label:r,href:(0,c.Fd)(s)})}),t},[n,r]);return i.length<=2?null:(0,s.jsx)("nav",{"aria-label":"Breadcrumb",className:"flex ".concat(t),children:(0,s.jsx)("ol",{className:"flex items-center space-x-2",children:i.map((e,r)=>(0,s.jsxs)("li",{className:"flex items-center",children:[r>0&&(0,s.jsx)("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),r===i.length-1?(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400","aria-current":"page",children:e.label}):(0,s.jsx)(o(),{href:e.href,className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Navigate to ".concat(e.label),children:e.label})]},e.href))})})}var h=t(1418);function x(e){let{className:r="",placeholder:t="Search...",onClose:n}=e,[i,l]=(0,a.useState)(""),[o,u]=(0,a.useState)(!1),[x,m]=(0,a.useState)(-1),[g,p]=(0,a.useState)(null),f=(0,a.useRef)(null),v=(0,d.useRouter)(),y=[{label:"Dashboard",href:"/dashboard",description:"Main dashboard overview",category:"Navigation"},{label:"Calendar",href:"/calendar",description:"View and manage schedules",category:"Navigation"},{label:"Situations",href:"/situations",description:"Manage co-parenting situations",category:"Navigation"},{label:"Expenses",href:"/expenses",description:"Track and split shared expenses between co-parents",category:"Navigation"},{label:"Inventory",href:"/inventory",description:"Track belongings and equipment across households",category:"Navigation"},{label:"Inventory Integrations",href:"/inventory-integrations",description:"Event and situation inventory demos",category:"Navigation"},{label:"Day Preferences",href:"/preferences/days",description:"Set your day preferences",category:"Preferences"},{label:"Date Preferences",href:"/preferences/dates",description:"Set your date preferences",category:"Preferences"},{label:"Handoff Times",href:"/preferences/handoff-times",description:"Configure handoff times",category:"Preferences"},{label:"Demo",href:"/onboarding",description:"Try the platform demo",category:"Navigation"},{label:"App Preview",href:"/app-preview",description:"Preview app features",category:"Navigation"}].map(e=>({...e,href:(0,c.Fd)(e.href)})),b=i.trim()?y.filter(e=>{var r,t;return e.label.toLowerCase().includes(i.toLowerCase())||(null==(r=e.description)?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null==(t=e.category)?void 0:t.toLowerCase().includes(i.toLowerCase()))}):[];(0,a.useEffect)(()=>{let e=e=>{if(g&&("Escape"===e.key||"Backspace"===e.key||"Delete"===e.key)&&p(null),(e.metaKey||e.ctrlKey)&&"k"===e.key){var r;e.preventDefault(),u(!0),p(null),null==(r=f.current)||r.focus()}if("Escape"===e.key&&(u(!1),l(""),m(-1),p(null),null==n||n()),o&&b.length>0&&("ArrowDown"===e.key&&(e.preventDefault(),m(e=>(e+1)%b.length),p(null)),"ArrowUp"===e.key&&(e.preventDefault(),m(e=>e<=0?b.length-1:e-1),p(null)),"Enter"===e.key)){e.preventDefault();let r=x>=0?x:0;b.length>0&&r<b.length&&j(b[r].href)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o,b,x,n,g]);let j=e=>{try{let r=(0,c.Fd)(e);v.push(r),u(!1),l(""),m(-1),p(null),null==n||n()}catch(e){console.error("Navigation error:",e),p("Navigation failed. Please try again.")}},k=e=>{j(e)};return(0,s.jsx)(h.x,{children:o?(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:(0,s.jsx)("div",{className:"flex items-start justify-center pt-20",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg mx-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,s.jsx)("input",{ref:f,type:"text",value:i,onChange:e=>{l(e.target.value),m(-1),p(null)},placeholder:t,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),g&&(0,s.jsx)("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,s.jsx)("span",{className:"text-sm text-red-700 dark:text-red-300",children:g}),(0,s.jsx)("button",{onClick:()=>p(null),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 underline ml-2",children:"Dismiss"})]})})]}),b.length>0&&(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 max-h-64 overflow-y-auto",children:b.map((e,r)=>(0,s.jsx)("button",{onClick:()=>k(e.href),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(r===x?"bg-gray-100 dark:bg-gray-700":""),children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),e.description&&(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]}),e.category&&(0,s.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded",children:e.category})]})},e.href))}),i&&0===b.length&&(0,s.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 text-center text-gray-500 dark:text-gray-400",children:['No results found for "',i,'"']}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:(0,s.jsx)("span",{children:"Navigate with ↑↓, select with ↵, close with Esc"})})]})})}):(0,s.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center px-3 py-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors ".concat(r),"aria-label":"Search",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t,(0,s.jsx)("kbd",{className:"ml-2 text-xs text-gray-400 dark:text-gray-500 font-mono",children:"⌘K"})]})})}var m=t(4899);let g=[{path:"/preferences",title:"Set Preferences",description:"Prioritize your life areas",icon:"\uD83C\uDFAF"},{path:"/situations",title:"Manage Situations",description:"Handle emergencies & coordination",icon:"\uD83D\uDEA8"},{path:"/calendar",title:"Calendar & Scheduling",description:"Coordinate schedules",icon:"\uD83D\uDCC5"},{path:"/expenses",title:"Track Expenses",description:"Manage shared costs",icon:"\uD83D\uDCB0"},{path:"/inventory",title:"Shared Inventory",description:"Track items & locations",icon:"\uD83D\uDCE6"}];function p(e){let{className:r=""}=e,t=(0,d.usePathname)(),{isGuest:l,isAuthenticated:u}=(0,n.As)(),[h,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(new Set);if(!l)return null;(0,a.useEffect)(()=>{var e,r;let t=m.B.getSessionAnalytics(),s=m.B.getGuestData(),a=new Set;(null==s||null==(e=s.preferences)?void 0:e.days)&&Array.isArray(s.preferences.days)&&s.preferences.days.length>0&&a.add("/preferences"),(null==s?void 0:s.situations)&&Array.isArray(s.situations)&&s.situations.length>0&&a.add("/situations"),((null==(r=t.interactions)?void 0:r.filter(e=>{var r,t;return e.type.includes("calendar")||(null==(t=e.data)||null==(r=t.action)?void 0:r.includes("calendar"))}))||[]).length>3&&a.add("/calendar"),(null==s?void 0:s.sharedExpenses)&&Array.isArray(s.sharedExpenses)&&s.sharedExpenses.length>0&&a.add("/expenses"),(null==s?void 0:s.inventoryItems)&&Array.isArray(s.inventoryItems)&&s.inventoryItems.length>0&&a.add("/inventory"),f(a)},[t]);let v=g.findIndex(e=>e.path===t),y=v>=0?g[v]:null,b=v>=0&&v<g.length-1?g[v+1]:null,j=p.size,k=j/g.length*100,N=e=>{m.B.saveGuestInteraction("demo_action",{action:"wizard_navigation",from:t,to:e.path,stepTitle:e.title}),x(!1)};return(0,s.jsxs)("div",{className:"demo-wizard ".concat(r),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"\uD83C\uDFAD Demo Mode"}),(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[j,"/",g.length]}),(0,s.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(k,"%")}})})]})]}),(0,s.jsx)("button",{onClick:()=>x(!h),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:h?"Hide Guide":"Demo Guide"})]}),h&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Demo Guide - Explore CoParent.Online"}),(0,s.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:g.map((e,r)=>{let a=p.has(e.path),n=e.path===t;return(0,s.jsx)(o(),{href:e.path,onClick:()=>N(e),className:"p-4 rounded-lg border-2 transition-all hover:border-blue-300 ".concat(n?"border-blue-500 bg-blue-50":a?"border-green-300 bg-green-50":"border-gray-200 bg-white hover:bg-gray-50"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(a?"bg-green-100 text-green-600":n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:a?"✓":e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium ".concat(n?"text-blue-900":a?"text-green-900":"text-gray-900"),children:e.title}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]})]})},e.path)})}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:0===j?"Start with any feature that interests you most!":j===g.length?"\uD83C\uDF89 You've explored everything! Ready to sign up?":"Great progress! ".concat(g.length-j," more areas to explore.")}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{window.confirm("Are you sure you want to clear all demo data? This will reset your progress and start fresh.")&&(m.B.saveGuestInteraction("demo_action",{action:"demo_data_cleared",currentStep:null==y?void 0:y.title,completedSteps:j}),m.B.clearGuestData(),window.location.reload())},className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"\uD83D\uDDD1️ Clear Demo Data"}),b&&j<g.length&&(0,s.jsx)(o(),{href:b.path,children:(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>N(b),children:["Next: ",b.title]})}),j>0&&(0,s.jsx)(i.$,{onClick:()=>{let e=m.B.getConversionReadiness();m.B.saveGuestInteraction("demo_action",{action:"signup_clicked",fromWizard:!0,currentStep:null==y?void 0:y.title,conversionScore:e.score,completedSteps:j}),(0,c.Uj)("/signup?convert=true")},size:"sm",className:j>=3?"bg-green-600 hover:bg-green-700":"",children:j>=3?"\uD83C\uDF89 Sign Up Now":"Sign Up"})]})]})})]})})]})}class f{static getRecentItems(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(!e)return[];return JSON.parse(e).filter(e=>e&&"string"==typeof e.href&&"string"==typeof e.label&&"number"==typeof e.timestamp).map(e=>({...e,href:(0,c.Fd)(e.href)})).sort((e,r)=>r.timestamp-e.timestamp)}catch(e){return[]}}static addRecentItem(e){if(e.href&&e.label)try{let r=this.getRecentItems(),t=(0,c.Fd)(e.href),s=r.filter(e=>e.href!==t),a=[{...e,href:t,timestamp:Date.now()},...s].slice(0,this.MAX_ITEMS);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}catch(e){}}static clearRecentItems(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(e){}}static removeRecentItem(e){try{let r=this.getRecentItems(),t=(0,c.Fd)(e),s=r.filter(e=>e.href!==t);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}catch(e){}}static getPageLabel(e){let r=(0,c.Fd)(e),t={"/":"Home","/dashboard":"Dashboard","/calendar":"Calendar","/situations":"Situations","/onboarding":"Demo","/preferences":"Preferences","/preferences/days":"Day Preferences","/preferences/dates":"Date Preferences","/preferences/handoff-times":"Handoff Times","/app-preview":"App Preview","/login":"Sign In","/signup":"Sign Up"};if(t[r])return t[r];let s=r.split("/").filter(Boolean);return 0===s.length?"Home":s[s.length-1].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}static trackPageVisit(e){let r=(0,c.Fd)(e);if(["/login","/signup","/"].includes(r))return;let t=this.getPageLabel(r);this.addRecentItem({label:t,href:r})}}function v(){let{user:e,isGuest:r,signOut:t,startGuestSession:l}=(0,n.As)(),{shouldShowConversionPrompt:h,shouldShowUrgentPrompt:m}=(0,n.Km)(),g=(0,d.usePathname)(),[v,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f.trackPageVisit(g),j(f.getRecentItems())},[g]),(0,a.useEffect)(()=>{y(!1)},[g]);let w=[{href:"/onboarding",label:"Try Demo",requiresAuth:!1}],S=e?[{href:"/dashboard",label:"Dashboard",requiresAuth:!0},{href:"/calendar",label:"Calendar",requiresAuth:!0},{href:"/situations",label:"Situations",requiresAuth:!0},{href:"/expenses",label:"Expenses",requiresAuth:!0},{href:"/inventory",label:"Inventory",requiresAuth:!0},{href:"/preferences",label:"Preferences",requiresAuth:!0},...w]:w;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(o(),{href:"/",className:"text-xl font-bold text-gray-900 dark:text-white",children:"CoParent.Online"})}),(0,s.jsx)("nav",{className:"hidden lg:flex space-x-8",children:S.map(e=>(0,s.jsx)(o(),{href:e.href,className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white ".concat((0,c.wz)(g,e.href)?"text-blue-600 dark:text-blue-400 font-medium":""),children:e.label},e.href))}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[(0,s.jsx)(x,{className:"w-64"}),b.length>0&&e&&(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>N(!k),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Recent items",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),k&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 z-50",children:[(0,s.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Recently Accessed"}),b.map(e=>(0,s.jsx)(o(),{href:e.href,onClick:()=>N(!1),className:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.label},e.href))]})]}),(0,s.jsx)(p,{className:"relative"}),m&&(0,s.jsx)("div",{"data-testid":"urgent-conversion-prompt",className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium animate-pulse",children:"⚠️ Demo expires soon!"}),h&&!m&&(0,s.jsx)("div",{"data-testid":"conversion-prompt",className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:"\uD83D\uDCBE Save your demo progress"}),e?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[r&&(0,s.jsx)(i.$,{"data-testid":"convert-to-permanent",variant:"outline",size:"sm",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 font-medium",onClick:()=>(0,c.Uj)("/signup?convert=true"),children:"\uD83D\uDCBE Save Account"}),(0,s.jsx)("div",{"data-testid":"user-menu",className:"text-gray-700 dark:text-gray-300",children:e.full_name}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:t,children:"Sign Out"})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(o(),{href:"/login",children:(0,s.jsx)(i.$,{variant:"ghost",size:"sm","data-testid":"login-link",children:"Sign In"})}),(0,s.jsx)(o(),{href:"/signup",children:(0,s.jsx)(i.$,{size:"sm",children:"Sign Up"})})]})]}),(0,s.jsx)("div",{className:"lg:hidden",children:(0,s.jsxs)("button",{onClick:()=>y(!v),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-expanded":v,children:[(0,s.jsx)("span",{className:"sr-only",children:"Open main menu"}),v?(0,s.jsx)("svg",{className:"block h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,s.jsx)("svg",{className:"block h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),v&&(0,s.jsx)("div",{className:"lg:hidden border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[(0,s.jsx)(x,{placeholder:"Search..."}),(0,s.jsx)("div",{className:"space-y-1",children:S.map(e=>(0,s.jsx)(o(),{href:e.href,className:"block px-3 py-2 rounded-md text-base font-medium ".concat((0,c.wz)(g,e.href)?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:e.label},e.href))}),b.length>0&&e&&(0,s.jsxs)("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 px-3 mb-2",children:"Recently Accessed"}),b.map(e=>(0,s.jsx)(o(),{href:e.href,className:"block px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:e.label},e.href))]}),(0,s.jsx)("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:e?(0,s.jsxs)("div",{className:"space-y-3",children:[r&&(0,s.jsx)(i.$,{"data-testid":"convert-to-permanent-mobile",variant:"outline",size:"sm",className:"w-full bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 font-medium",onClick:()=>(0,c.Uj)("/signup?convert=true"),children:"\uD83D\uDCBE Save Account"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.full_name}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:t,children:"Sign Out"})]})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o(),{href:"/login",className:"block",children:(0,s.jsx)(i.$,{variant:"ghost",size:"sm",className:"w-full",children:"Sign In"})}),(0,s.jsx)(o(),{href:"/signup",className:"block",children:(0,s.jsx)(i.$,{size:"sm",className:"w-full",children:"Sign Up"})})]})})]})})]}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:(0,s.jsx)(u,{})})}),!e&&(0,s.jsx)("div",{"data-testid":"login-prompt",className:"bg-gray-50 dark:bg-gray-700 px-4 py-2 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(0,s.jsx)(o(),{href:"/login",className:"text-blue-600 hover:text-blue-800",children:"Sign in"})," to save your preferences or"," ",(0,s.jsx)("button",{"data-testid":"start-guest-session",className:"text-blue-600 hover:text-blue-800 underline",onClick:async()=>{try{await l(),(0,c.Uj)("/onboarding")}catch(e){console.error("Failed to start guest session:",e),(0,c.Uj)("/onboarding")}},children:"try as guest"})]})}),k&&(0,s.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>N(!1)})]})}f.STORAGE_KEY="coparent-recent-items",f.MAX_ITEMS=5},2085:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var s=t(2596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,i=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===r)return null;let n=a(r)||a(s);return i[e][n]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,o,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...d}[r]):({...l,...d})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},4624:(e,r,t)=>{"use strict";t.d(r,{DX:()=>i});var s=t(2115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var n=t(5155),i=function(e){let r=function(e){let r=s.forwardRef((e,r)=>{let{children:t,...n}=e;if(s.isValidElement(t)){var i;let e,l,o=(i=t,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{let r=n(...e);return a(...e),r}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==s.Fragment&&(d.ref=r?function(...e){return r=>{let t=!1,s=e.map(e=>{let s=a(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():a(e[r],null)}}}}(r,o):o),s.cloneElement(t,d)}return s.Children.count(t)>1?s.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=s.forwardRef((e,t)=>{let{children:a,...i}=e,l=s.Children.toArray(a),d=l.find(o);if(d){let e=d.props.children,a=l.map(r=>r!==d?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...i,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(r,{...i,ref:t,children:a})});return t.displayName=`${e}.Slot`,t}("Slot"),l=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},4694:(e,r,t)=>{"use strict";t.d(r,{EnvironmentIndicator:()=>n});var s=t(5155),a=t(2115);function n(){let[e,r]=(0,a.useState)(null),[t,n]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{},[]),!t||!e)return null;let i="production"===e.environment?"bg-red-500":"bg-green-500",l=e.hasValidConfig?"text-green-600":"text-red-600";return(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3 text-xs max-w-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(i)}),(0,s.jsxs)("span",{className:"font-semibold",children:["Environment: ",e.environment]})]}),(0,s.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,s.jsxs)("div",{children:["Branch: ",(0,s.jsx)("span",{className:"font-mono",children:e.currentBranch})]}),(0,s.jsxs)("div",{children:["Config: ",(0,s.jsx)("span",{className:l,children:e.configSource})]}),(0,s.jsxs)("div",{children:["Supabase: ",(0,s.jsx)("span",{className:"font-mono text-xs",children:e.supabaseUrl.split(".")[0].split("//")[1]||"N/A"})]}),(0,s.jsxs)("div",{children:["Valid: ",(0,s.jsx)("span",{className:l,children:e.hasValidConfig?"✓":"✗"})]})]}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"absolute top-1 right-1 text-gray-400 hover:text-gray-600 text-xs",title:"Hide environment indicator",children:"\xd7"})]})}t(844)},5665:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>n});var s=t(5155),a=t(3715);function n(e){let{children:r}=e;return(0,s.jsx)(a.OJ,{children:r})}},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},5786:()=>{},7741:(e,r,t)=>{Promise.resolve().then(t.bind(t,4694)),Promise.resolve().then(t.bind(t,1499)),Promise.resolve().then(t.bind(t,5665)),Promise.resolve().then(t.t.bind(t,5786,23))},9434:(e,r,t)=>{"use strict";t.d(r,{Fd:()=>o,Uj:()=>i,cn:()=>n,wz:()=>l});var s=t(2596),a=t(9688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}function i(e){let r=e.startsWith("/")?"".concat("/pr-69").concat(e):e;window.location.href=r}function l(e,r){return e===r||("/"===r?"/"===e:e.startsWith(r+"/")||e===r)}function o(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/".concat(e):"/"}}},e=>{var r=r=>e(e.s=r);e.O(0,[523,982,277,874,715,899,441,684,358],()=>r(7741)),_N_E=e.O()}]);