(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{844:(e,r,s)=>{"use strict";s.d(r,{GY:()=>c,h9:()=>t,hV:()=>i});var n=s(9509);function a(){let e="main";return"production"}function t(){if("production"===a())return{url:"https://gjgldkinpnckfwzwdbmt.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqZ2xka2lucG5ja2Z3endkYm10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0OTczMDYsImV4cCI6MjA2NzA3MzMwNn0.5ZQourcUdjk19MWjLQ9O0VhcHJj09YPzcxbN35MfMtQ",serviceRoleKey:n.env.SUPABASE_SERVICE_ROLE_KEY||"placeholder-service-role-key"};{let e=n.env.NEXT_PUBLIC_SUPABASE_DEV_URL||n.env.SUPABASE_DEV_URL||"https://bqiapoplmkkrtnsmmxhs.supabase.co";return{url:e,anonKey:n.env.NEXT_PUBLIC_SUPABASE_DEV_ANON_KEY||n.env.SUPABASE_DEV_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxaWFwb3BsbWtrcnRuc21teGhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NDA3OTMsImV4cCI6MjA2ODAxNjc5M30.bZGNGvb8XYZSWkbfMYMNBAzoedp4SGOIerHmNcRqUsk",serviceRoleKey:n.env.SUPABASE_DEV_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxaWFwb3BsbWtrcnRuc21teGhzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ0MDc5MywiZXhwIjoyMDY4MDE2NzkzfQ.7m9y2vqrq1Sd8bX6dl6A47WQbZoQHGKc7o2rzrcTjKI"}}}function i(e){return"https://placeholder.supabase.co"!==e.url&&"placeholder-anon-key"!==e.anonKey&&(e.url.includes("supabase.co")||e.url.includes("127.0.0.1"))}function c(){let e=a(),r=t(),s=i(r);return{currentBranch:"main",environment:e,supabaseUrl:r.url,hasValidConfig:s,configSource:"production"===e?"production":n.env.NEXT_PUBLIC_SUPABASE_DEV_URL?"development-env-vars":"development-default"}}},2099:(e,r,s)=>{"use strict";s.d(r,{k:()=>i});var n=s(4982),a=s(844);let t=null,i=()=>{if(t)return t;let e=(0,a.h9)();return t=(0,a.hV)(e)?(0,n.UU)(e.url,e.anonKey,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,detectSessionInUrl:!0}}):(0,n.UU)("https://placeholder.supabase.co","placeholder-anon-key",{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,detectSessionInUrl:!0}})}},2706:(e,r,s)=>{Promise.resolve().then(s.bind(s,3751))},3751:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var n=s(5155),a=s(2115),t=s(387),i=s(2099);function c(){let[e,r]=(0,a.useState)([]),[s,c]=(0,a.useState)({}),[l,o]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),h=(0,i.k)(),I="rel-123",m="user-123";(0,a.useEffect)(()=>{p(),y()},[]);let p=async()=>{try{let{data:e,error:s}=await h.from("date_preferences").select("*").eq("relationshipId",I).eq("userId",m).order("priority",{ascending:!0});if(s)throw s;r(e||[])}catch(e){console.error("Error loading existing preferences:",e),u("Failed to load existing preferences")}},y=async()=>{c({"2024-01-01":"New Year's Day","2024-02-14":"Valentine's Day","2024-03-17":"St. Patrick's Day","2024-04-01":"Easter","2024-05-12":"Mother's Day","2024-06-16":"Father's Day","2024-07-04":"Independence Day","2024-09-02":"Labor Day","2024-10-31":"Halloween","2024-11-28":"Thanksgiving","2024-12-25":"Christmas Day","2024-12-31":"New Year's Eve","2025-01-01":"New Year's Day","2025-02-14":"Valentine's Day","2025-03-17":"St. Patrick's Day","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-06-15":"Father's Day","2025-07-04":"Independence Day","2025-09-01":"Labor Day","2025-10-31":"Halloween","2025-11-27":"Thanksgiving","2025-12-25":"Christmas Day","2025-12-31":"New Year's Eve"}),o(!1)};return l?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading your date preferences..."})]})}):d?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-md",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Error Loading Preferences"}),(0,n.jsx)("p",{children:d}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})})}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,n.jsx)(t.Q,{relationshipId:I,currentUserId:m,selectedDates:e.map(e=>new Date(e.date)),existingPreferences:e,holidayData:s})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[277,982,804,796,110,387,441,684,358],()=>r(2706)),_N_E=e.O()}]);