(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{2085:(e,t,i)=>{"use strict";i.d(t,{F:()=>l});var n=i(2596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,r=n.$,l=(e,t)=>i=>{var n;if((null==t?void 0:t.variants)==null)return r(e,null==i?void 0:i.class,null==i?void 0:i.className);let{variants:l,defaultVariants:a}=t,o=Object.keys(l).map(e=>{let t=null==i?void 0:i[e],n=null==a?void 0:a[e];if(null===t)return null;let r=s(t)||s(n);return l[e][r]}),c=i&&Object.entries(i).reduce((e,t)=>{let[i,n]=t;return void 0===n||(e[i]=n),e},{});return r(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:i,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,i]=e;return Array.isArray(i)?i.includes({...a,...c}[t]):({...a,...c})[t]===i})?[...e,i,n]:e},[]),null==i?void 0:i.class,null==i?void 0:i.className)}},4624:(e,t,i)=>{"use strict";i.d(t,{DX:()=>l});var n=i(2115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var r=i(5155),l=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:i,...r}=e;if(n.isValidElement(i)){var l;let e,a,o=(l=i,(a=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(a=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let i={...t};for(let n in t){let s=e[n],r=t[n];/^on[A-Z]/.test(n)?s&&r?i[n]=(...e)=>{let t=r(...e);return s(...e),t}:s&&(i[n]=s):"style"===n?i[n]={...s,...r}:"className"===n&&(i[n]=[s,r].filter(Boolean).join(" "))}return{...e,...i}}(r,i.props);return i.type!==n.Fragment&&(c.ref=t?function(...e){return t=>{let i=!1,n=e.map(e=>{let n=s(e,t);return i||"function"!=typeof n||(i=!0),n});if(i)return()=>{for(let t=0;t<n.length;t++){let i=n[t];"function"==typeof i?i():s(e[t],null)}}}}(t,o):o),n.cloneElement(i,c)}return n.Children.count(i)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),i=n.forwardRef((e,i)=>{let{children:s,...l}=e,a=n.Children.toArray(s),c=a.find(o);if(c){let e=c.props.children,s=a.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...l,ref:i,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,r.jsx)(t,{...l,ref:i,children:s})});return i.displayName=`${e}.Slot`,i}("Slot"),a=Symbol("radix.slottable");function o(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},4944:(e,t,i)=>{"use strict";i.d(t,{k:()=>l});var n=i(5155),s=i(2115),r=i(9434);let l=s.forwardRef((e,t)=>{let{className:i,value:s=0,...l}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-gray-200",i),...l,children:(0,n.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-in-out",style:{width:"".concat(Math.min(100,Math.max(0,s)),"%")}})})});l.displayName="Progress"},6427:(e,t,i)=>{Promise.resolve().then(i.bind(i,7361))},7361:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(5155),s=i(2115),r=i(4853),l=i(8505);class a{getNextRequiredComparison(){return(this.propagateInferences(),this.canInferCompleteOrdering())?null:this.selector.selectNextOptimalComparison()}recordComparison(e){let t=this.getNextRequiredComparison();if(!t)return 0;this.manualComparisons.push({pair:t,winner:e});let i=this.transitivity.addComparison(t.left,t.right,e);return this.selector.updateItems(this.items),i}canInferCompleteOrdering(){let e=this.transitivity.getUnknownPairs(this.items);if(0===e.length)return!0;let t=this.items.length*(this.items.length-1)/2;return(t-e.length)/t>=.7}getKnownRelationships(){let e=[];for(let t=0;t<this.items.length;t++)for(let i=t+1;i<this.items.length;i++){let n=this.items[t],s=this.items[i],r=this.transitivity.getRelationship(n,s);"greater"===r?e.push({item1:n,item2:s,relationship:"greater"}):"less"===r&&e.push({item1:n,item2:s,relationship:"less"})}return e}getInferenceStats(){let e=this.items.length*(this.items.length-1)/2,t=this.getKnownRelationships().length,i=this.manualComparisons.length;return{manualComparisons:i,inferredRelationships:Math.max(0,t-i),totalRelationships:t,completionPercentage:e>0?t/e*100:100,efficiencyGain:Math.max(0,e>0?(e-i)/e*100:0)}}isInferenceComplete(){return null===this.getNextRequiredComparison()}getTheoreticalMinimum(){let e=this.items.length;return e<=1?0:e-1}exportState(){return{items:this.items,comparisons:this.manualComparisons.map(e=>({left:e.pair.left.id,right:e.pair.right.id,winner:e.winner.id}))}}importState(e){for(let t of(this.items=[...e.items],this.transitivity.initialize(this.items),this.selector.updateItems(this.items),this.manualComparisons=[],e.comparisons)){let e=this.items.find(e=>e.id===t.left),i=this.items.find(e=>e.id===t.right),n=this.items.find(e=>e.id===t.winner);e&&i&&n&&(this.manualComparisons.push({pair:{left:e,right:i},winner:n}),this.transitivity.addComparison(e,i,n))}}reset(e){this.items=[...e],this.transitivity.initialize(this.items),this.selector.updateItems(this.items),this.manualComparisons=[]}propagateInferences(){}constructor(e){this.items=[...e],this.transitivity=new r.u,this.selector=new l.Z(this.transitivity,this.items),this.manualComparisons=[],this.transitivity.initialize(this.items)}}class o{sort(){let e=this.inferrer.getKnownRelationships(),t=this.inferrer.exportState().items;return this.inferrer.canInferCompleteOrdering()?this.topologicalSort(t,e):this.scoringBasedSort(t,e)}topologicalSort(e,t){var i,n,s;let r=[],l=new Set(e),a=new Map;for(let t of e)a.set(t.id,new Set);for(let e of t)"greater"===e.relationship?null==(i=a.get(e.item1.id))||i.add(e.item2.id):null==(n=a.get(e.item2.id))||n.add(e.item1.id);for(;l.size>0;){let e=null;for(let t of l){let i=!0;for(let e of l)if(t!==e&&(null==(s=a.get(e.id))?void 0:s.has(t.id))){i=!1;break}if(i){e=t;break}}e||(e=l.values().next().value||null),e&&(r.push(e),l.delete(e))}return r}scoringBasedSort(e,t){let i=new Map;for(let t of e)i.set(t.id,0);for(let e of t)"greater"===e.relationship?i.set(e.item1.id,(i.get(e.item1.id)||0)+1):i.set(e.item2.id,(i.get(e.item2.id)||0)+1);return e.map((e,t)=>({item:e,score:i.get(e.id)||0,originalIndex:t})).sort((e,t)=>e.score!==t.score?t.score-e.score:e.originalIndex-t.originalIndex).map(e=>e.item)}getSortingConfidence(){let e,t,i=this.inferrer.getInferenceStats(),n=this.inferrer.exportState().items.length*(this.inferrer.exportState().items.length-1)/2-i.totalRelationships;return this.inferrer.canInferCompleteOrdering()?(e=95,t="Complete ordering can be inferred from known relationships"):i.completionPercentage>=70?(e=80,t="Most relationships known, high confidence in ordering"):i.completionPercentage>=50?(e=60,t="Partial relationships known, moderate confidence"):(e=30,t="Limited relationships known, low confidence in ordering"),{confidence:e,reason:t,missingRelationships:n}}validateSortedOrder(e){let t=this.inferrer.getKnownRelationships(),i=[],n=new Map;for(let s of(e.forEach((e,t)=>{n.set(e.id,t)}),t)){let e=n.get(s.item1.id),t=n.get(s.item2.id);void 0!==e&&void 0!==t&&("greater"===s.relationship&&e>t?i.push({item1:s.item1,item2:s.item2,expectedRelationship:"".concat(s.item1.label," should come before ").concat(s.item2.label)}):"less"===s.relationship&&e<t&&i.push({item1:s.item1,item2:s.item2,expectedRelationship:"".concat(s.item1.label," should come after ").concat(s.item2.label)}))}return{isValid:0===i.length,violations:i}}constructor(e){this.inferrer=e}}var c=i(6695),d=i(285),m=i(4944);function h(e){let{items:t}=e,[i,r]=(0,s.useState)(null),[l,h]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),[p,f]=(0,s.useState)(null),[g,j]=(0,s.useState)([]),[v,b]=(0,s.useState)(!1),[y,N]=(0,s.useState)([]),[w,C]=(0,s.useState)("inference"),[S,k]=(0,s.useState)(null),[R,I]=(0,s.useState)(""),[O,E]=(0,s.useState)(null),D=t||[{id:"weekend",label:"Weekend Custody",description:"Having kids on weekends"},{id:"weekday",label:"Weekday Custody",description:"Having kids on weekdays"},{id:"holiday",label:"Holiday Custody",description:"Having kids on holidays"},{id:"summer",label:"Summer Custody",description:"Extended summer time"},{id:"school",label:"School Events",description:"Attending school events"},{id:"medical",label:"Medical Appointments",description:"Taking kids to doctor"}];(0,s.useEffect)(()=>{P()},[D]);let P=()=>{let e=new a(D),t=new o(e);r(e),h(t);let i=e.getNextRequiredComparison();x(i),f(e.getInferenceStats()),j([]),b(!1),N([]),C("inference"),k(null),I(""),E(null),i&&A(e,i)},A=(e,t)=>{let i=e.selector;if(i&&i.calculateComparisonValue){let e=i.calculateComparisonValue(t),n=i.estimateItemPosition?i.estimateItemPosition(t.left):"unknown",s=i.estimateItemPosition?i.estimateItemPosition(t.right):"unknown";I("Selected for median-seeking strategy. Estimated positions: ".concat(t.left.label," (").concat(n.toFixed?n.toFixed(1):n,"), ").concat(t.right.label," (").concat(s.toFixed?s.toFixed(1):s,"). Expected inferences: ").concat(e.transitiveInferences.toFixed(1)))}else I("Selected to maximize information gain")},B=e=>{if(!i||!u)return;let t=u.left.id===e.id?u.right:u.left,n=i.recordComparison(e);N(i=>[...i,"".concat(e.label," > ").concat(t.label," (+").concat(n," inferences)")]);let s=i.getNextRequiredComparison();x(s),f(i.getInferenceStats()),s&&A(i,s),(!s||i.isInferenceComplete())&&(b(!0),C("sorting"),W())},W=()=>{l&&setTimeout(()=>{let e=l.sort(),t=l.getSortingConfidence();j(e),k(t),C("complete")},1e3)},Z=()=>{P()},F=D.length*(D.length-1)/2;return(0,n.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,n.jsx)(c.Zp,{children:(0,n.jsxs)(c.aR,{children:[(0,n.jsx)(c.ZB,{children:"Ordinal Relationship Inference Optimization"}),(0,n.jsx)(c.BT,{children:"Experience how separating relationship inference from sorting reduces manual comparisons by 50%+"})]})}),(0,n.jsx)(c.Zp,{children:(0,n.jsx)(c.Wu,{className:"pt-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 ".concat("inference"===w?"text-blue-600 font-semibold":"sorting"===w||"complete"===w?"text-green-600":"text-gray-400"),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white ".concat("inference"===w?"bg-blue-600":"sorting"===w||"complete"===w?"bg-green-600":"bg-gray-400"),children:"1"}),(0,n.jsx)("span",{children:"Relationship Inference"}),"inference"===w&&(0,n.jsx)("span",{className:"text-sm",children:"(Manual Input Required)"})]}),(0,n.jsx)("div",{className:"w-16 h-1 ".concat("sorting"===w||"complete"===w?"bg-green-600":"bg-gray-300")}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 ".concat("sorting"===w?"text-blue-600 font-semibold":"complete"===w?"text-green-600":"text-gray-400"),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white ".concat("sorting"===w?"bg-blue-600":"complete"===w?"bg-green-600":"bg-gray-400"),children:"2"}),(0,n.jsx)("span",{children:"Automatic Sorting"}),"sorting"===w&&(0,n.jsx)("span",{className:"text-sm",children:"(No Manual Input)"})]})]})})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{children:[(0,n.jsx)(c.ZB,{children:"inference"===w?"Relationship Learning":"sorting"===w?"Automatic Sorting":"Complete!"}),(0,n.jsx)(c.BT,{children:"inference"===w?"Choose which item is more important to you":"sorting"===w?"Generating final order from learned relationships...":"Your preferences have been sorted optimally"})]}),(0,n.jsx)(c.Wu,{children:"inference"===w&&u?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,n.jsx)(d.$,{onClick:()=>B(u.left),className:"h-auto p-4 text-left",variant:"outline",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:u.left.label}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:u.left.description})]})}),(0,n.jsx)("div",{className:"text-center text-muted-foreground",children:"vs"}),(0,n.jsx)(d.$,{onClick:()=>B(u.right),className:"h-auto p-4 text-left",variant:"outline",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:u.right.label}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:u.right.description})]})})]}),R&&(0,n.jsxs)("div",{className:"text-xs text-muted-foreground p-2 bg-blue-50 rounded border",children:[(0,n.jsx)("strong",{children:"Why this comparison?"})," ",R]}),(0,n.jsx)(d.$,{onClick:Z,variant:"outline",size:"sm",className:"w-full",children:"Reset Demo"})]}):"sorting"===w?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-2xl mb-4",children:"\uD83E\uDD16"}),(0,n.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Sorting Automatically..."}),(0,n.jsx)("div",{className:"text-muted-foreground mb-4",children:"Using learned relationships to generate final order"}),(0,n.jsx)(m.k,{value:100,className:"h-2"})]}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"\uD83C\uDF89 Optimization Complete!"}),(0,n.jsx)("div",{className:"text-muted-foreground mb-4",children:p&&"Reduced manual comparisons by ".concat(p.efficiencyGain.toFixed(1),"%")}),S&&(0,n.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Sorting confidence: ",S.confidence,"%",(0,n.jsx)("br",{}),S.reason]}),(0,n.jsx)(d.$,{onClick:Z,children:"Try Again"})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{children:[(0,n.jsx)(c.ZB,{children:"Optimization Statistics"}),(0,n.jsx)(c.BT,{children:"See the efficiency gains from separated concerns"})]}),(0,n.jsx)(c.Wu,{children:p&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,n.jsx)("span",{children:"Relationship Discovery"}),(0,n.jsxs)("span",{children:[p.completionPercentage.toFixed(1),"%"]})]}),(0,n.jsx)(m.k,{value:p.completionPercentage,className:"h-2"}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[p.totalRelationships," of ",F," relationships known"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"Manual Comparisons"}),(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.manualComparisons}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:["vs ",F," naive"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"Auto Inferences"}),(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.inferredRelationships}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"via transitivity"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"Efficiency Gain"}),(0,n.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[p.efficiencyGain.toFixed(1),"%"]}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"reduction in manual work"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"Phase"}),(0,n.jsx)("div",{className:"text-lg font-bold text-orange-600",children:"inference"===w?"Learning":"sorting"===w?"Sorting":"Done"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"inference"===w?"manual input":"automatic"})]})]})]})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{children:[(0,n.jsx)(c.ZB,{children:"Learning History"}),(0,n.jsx)(c.BT,{children:"Your choices and automatic inferences"})]}),(0,n.jsx)(c.Wu,{children:(0,n.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.length>0?y.map((e,t)=>(0,n.jsxs)("div",{className:"text-sm p-2 bg-muted rounded flex justify-between",children:[(0,n.jsx)("span",{children:e}),(0,n.jsxs)("span",{className:"text-muted-foreground",children:["#",t+1]})]},t)):(0,n.jsx)("div",{className:"text-muted-foreground text-center py-4",children:"No comparisons made yet"})})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{children:[(0,n.jsx)(c.ZB,{children:"Final Ranking"}),(0,n.jsx)(c.BT,{children:"complete"===w?"Your optimized preference order":"Will appear after sorting"})]}),(0,n.jsx)(c.Wu,{children:(0,n.jsx)("div",{className:"space-y-2",children:g.length>0?g.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-muted rounded",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center font-bold",children:t+1}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"font-medium",children:e.label}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.id)):(0,n.jsx)("div",{className:"text-muted-foreground text-center py-8",children:"inference"===w?"Complete relationship learning to see final ranking":"sorting"===w?"Generating ranking...":"No ranking available"})})})]})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{children:(0,n.jsx)(c.ZB,{children:"How Separated Concerns Optimization Works"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83C\uDFAF Phase 1: Relationship Inference"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Only ask for manual input when needed to learn new relationships. Use transitivity (A > B, B > C → A > C) to infer others automatically."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83E\uDD16 Phase 2: Automatic Sorting"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Once sufficient relationships are known, generate the final ordering automatically using topological sorting - no more manual input needed."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83D\uDCCA Efficiency Gains"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Achieve 50%+ reduction in manual comparisons compared to naive approaches. Larger item sets see even greater efficiency improvements."})]})]})})]})]})}function u(){return(0,n.jsx)("div",{className:"min-h-screen bg-background",children:(0,n.jsx)(h,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[277,796,441,684,358],()=>t(6427)),_N_E=e.O()}]);